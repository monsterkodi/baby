// koffee 1.6.0

/*
000   000   0000000   00000000   000      0000000    
000 0 000  000   000  000   000  000      000   000  
000000000  000   000  0000000    000      000   000  
000   000  000   000  000   000  000      000   000  
00     00   0000000   000   000  0000000  0000000
 */
var AmbientLight, ArcRotateCamera, Camera, Color3, DirectionalLight, Engine, FramingBehavior, HemisphericLight, Mesh, MeshBuilder, PointLight, Poly, Scene, ShadowGenerator, SimplificationType, SpotLight, StandardMaterial, Vect, Vector3, World, animate, deg2rad, elem, generate, klog, prefs, ref, ref1,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ref = require('kxk'), deg2rad = ref.deg2rad, prefs = ref.prefs, elem = ref.elem, klog = ref.klog;

ref1 = require('babylonjs'), ArcRotateCamera = ref1.ArcRotateCamera, FramingBehavior = ref1.FramingBehavior, Engine = ref1.Engine, Color3 = ref1.Color3, Vector3 = ref1.Vector3, Mesh = ref1.Mesh, SimplificationType = ref1.SimplificationType, DirectionalLight = ref1.DirectionalLight, AmbientLight = ref1.AmbientLight, ShadowGenerator = ref1.ShadowGenerator, StandardMaterial = ref1.StandardMaterial, MeshBuilder = ref1.MeshBuilder, HemisphericLight = ref1.HemisphericLight, SpotLight = ref1.SpotLight, PointLight = ref1.PointLight;

generate = require('./poly/generate');

Poly = require('./poly/polyold');

Vect = require('./vect');

Camera = require('./camera');

Scene = require('./scene');

animate = require('./animate');

World = (function() {
    function World(view) {
        var a, code, d, ground, hemi, i, j, k, l, len, len1, len2, len3, light, m, n, names, o, p, poly, q, ref2, row, rows, shadowGenerator, truncated, y, z;
        this.view = view;
        this.resized = bind(this.resized, this);
        this.animate = bind(this.animate, this);
        this.onMouseUp = bind(this.onMouseUp, this);
        this.onMouseMove = bind(this.onMouseMove, this);
        this.onMouseDown = bind(this.onMouseDown, this);
        this.paused = false;
        this.view.focus();
        this.canvas = elem('canvas', {
            "class": 'babylon',
            parent: this.view
        });
        this.resized();
        this.engine = new Engine(this.canvas, true);
        this.scene = new Scene(this.engine);
        a = 0.06;
        this.scene.clearColor = new Color3(a, a, a);
        this.camera = new Camera(this.scene, this.view, this.canvas);
        hemi = new HemisphericLight('hemi', new Vect(0, 1, 0), this.scene);
        hemi.intensity = 0.5;
        light = new DirectionalLight('light', new Vector3(0, -1, 0), this.scene);
        light.position.y = 3;
        shadowGenerator = new ShadowGenerator(8 * 1024, light);
        shadowGenerator.bias = 0.0002;
        shadowGenerator.darkness = 0.8;
        shadowGenerator.useExponentialShadowMap = true;
        shadowGenerator.usePoissonSampling = true;
        shadowGenerator.usePercentageCloserFiltering = true;
        shadowGenerator.useContactHardeningShadow = true;
        ground = MeshBuilder.CreateGround('ground', {
            width: 1000,
            height: 1000,
            subdivisions: 4
        }, this.scene);
        ground.material = new StandardMaterial('mat', this.scene);
        ground.material.specularColor = new Color3(0.05, 0.05, 0.05);
        a = 0.05;
        ground.material.diffuseColor = new Color3(a, a, a);
        ground.receiveShadows = true;
        ground.position.y = -4;
        this.cursor = MeshBuilder.CreateIcoSphere('cursor', {
            flat: false,
            radius: 0.99
        }, this.scene);
        this.cursor.material = new StandardMaterial('mat', this.scene);
        this.cursor.material.diffuseColor = new Color3(0.05, 0.05, 0.05);
        this.cursor.material.alpha = 0.25;
        this.engine.runRenderLoop(this.animate);
        if (prefs.get('inspector')) {
            this.toggleInspector();
        }
        window.addEventListener('pointerdown', this.onMouseDown);
        window.addEventListener('pointerup', this.onMouseUp);
        if (0) {
            names = ['tetrahedron', 'cube', 'octahedron', 'dodecahedron', 'icosahedron', 'cuboctahedron', 'icosidodecahedron', 'truncatedicosidodecahedron', 'rhombicosidodecahedron', 'rhombicubocahedron', 'snubicosidodecahedron', 'snubcuboctahedron'];
            for (j = k = 0, len = names.length; k < len; j = ++k) {
                m = names[j];
                for (i = l = 0; l <= 10; i = ++l) {
                    truncated = Poly.truncate(Poly[m](), i * 0.1);
                    p = Mesh.CreatePolyhedron(m, {
                        custom: truncated
                    }, this.scene);
                    p.receiveShadows = true;
                    p.convertToFlatShadedMesh();
                    p.position.x = 3 * j;
                    p.position.z = 3 * i;
                    p.position.y = -2;
                    shadowGenerator.addShadowCaster(p);
                    p.material = new StandardMaterial('mat', this.scene);
                    p.material.alpha = 1;
                    p.material.diffuseColor = new Color3(i / 12, (j / 6) % 1, 1 - j / 12);
                }
            }
        }
        z = 0;
        rows = [['T', 'C', 'O', 'D', 'I'], ['dT', 'dC', 'dO', 'dD', 'dI'], ['kdT', 'kdC', 'kdO', 'kdD', 'kdI'], ['tT', 'tC', 'tO', 'tD', 'tI'], ['kT', 'jC', 'kO', 'kC', 'oC', 'mC', 'gC', 'jD', 'kI', 'kD', 'oD', 'mD', 'gD'], ['Y3', 'Y4', 'Y5', 'Y6', 'Y7', 'Y8', 'Y9', 'Y10', 'Y11', 'Y12'], ['P3', 'P4', 'P5', 'P6', 'P7', 'P8', 'P9', 'P10', 'P11', 'P12'], ['A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10', 'A11', 'A12'], ['U3', 'U4', 'U5', 'U6', 'U7', 'U8', 'U9', 'U10', 'U11', 'U12']];
        for (n = 0, len1 = rows.length; n < len1; n++) {
            row = rows[n];
            j = 0;
            z++;
            for (o = 0, len2 = row.length; o < len2; o++) {
                code = row[o];
                j++;
                ref2 = [''];
                for (y = q = 0, len3 = ref2.length; q < len3; y = ++q) {
                    d = ref2[y];
                    poly = generate(d + code);
                    p = Mesh.CreatePolyhedron(code, {
                        custom: poly
                    }, this.scene);
                    this.scene.showFaces(p, poly);
                    p.receiveShadows = true;
                    p.position.x = 3 * j;
                    p.position.z = 3 * z;
                    p.position.y = y * 3;
                    p.rotate(Vect.unitX, deg2rad(-90));
                    p.convertToFlatShadedMesh();
                    shadowGenerator.addShadowCaster(p);
                    p.material = new StandardMaterial('mat', this.scene);
                    p.material.alpha = 1;
                    p.material.diffuseColor = new Color3(i / 12, (j / 6) % 1, 1 - j / 12);
                }
            }
        }
    }

    World.prototype.onMouseDown = function(event) {
        var result;
        window.addEventListener('pointermove', this.onMouseMove);
        result = this.scene.pick(this.scene.pointerX, this.scene.pointerY);
        if (event.buttons & 2) {
            this.mouseDownMesh = result.pickedMesh;
        }
        return this.camera.onMouseDown(event);
    };

    World.prototype.onMouseMove = function(event) {
        return this.camera.onMouseDrag(event);
    };

    World.prototype.onMouseUp = function(event) {
        var mesh, ref2, result;
        window.removeEventListener('pointermove', this.onMouseMove);
        result = this.scene.pick(this.scene.pointerX, this.scene.pointerY);
        if (mesh = result.pickedMesh) {
            if (mesh.name !== 'ground' && mesh === this.mouseDownMesh) {
                if ((ref2 = mesh.name) === 'faces' || ref2 === 'normals') {
                    klog(mesh.parent.name);
                } else {
                    klog(mesh.name);
                }
                this.cursor.position = mesh.getAbsolutePosition();
                this.camera.fadeToPos(mesh.getAbsolutePosition());
            }
        }
        return this.camera.onMouseUp(event);
    };

    World.prototype.toggleInspector = function() {
        if (this.scene.debugLayer.isVisible()) {
            this.scene.debugLayer.hide();
            return prefs.set('inspector', false);
        } else {
            this.scene.debugLayer.show({
                overlay: true,
                showInspector: true
            });
            return prefs.set('inspector', true);
        }
    };

    World.prototype.start = function() {
        return this.view.focus();
    };

    World.prototype.animate = function() {
        if (!this.paused) {
            this.scene.render();
            return animate.tick(this.engine.getDeltaTime() / 1000);
        }
    };

    World.prototype.resized = function() {
        this.canvas.width = this.view.clientWidth;
        return this.canvas.height = this.view.clientHeight;
    };

    World.prototype.modKeyComboEventDown = function(mod, key, combo, event) {
        switch (key) {
            case 'e':
                return this.camera.moveUp();
            case 'q':
                return this.camera.moveDown();
            case 'a':
                return this.camera.moveLeft();
            case 'd':
                return this.camera.moveRight();
            case 'w':
                return this.camera.moveForward();
            case 's':
                return this.camera.moveBackward();
            case 'x':
            case 'esc':
                return this.camera.stopMoving();
        }
    };

    World.prototype.modKeyComboEventUp = function(mod, key, combo, event) {
        switch (key) {
            case 'e':
                return this.camera.stopUp();
            case 'q':
                return this.camera.stopDown();
            case 'a':
                return this.camera.stopLeft();
            case 'd':
                return this.camera.stopRight();
            case 'w':
                return this.camera.stopForward();
            case 's':
                return this.camera.stopBackward();
        }
    };

    return World;

})();

module.exports = World;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ybGQuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBLHdTQUFBO0lBQUE7O0FBUUEsTUFBaUMsT0FBQSxDQUFRLEtBQVIsQ0FBakMsRUFBRSxxQkFBRixFQUFXLGlCQUFYLEVBQWtCLGVBQWxCLEVBQXdCOztBQUN4QixPQUFtTixPQUFBLENBQVEsV0FBUixDQUFuTixFQUFFLHNDQUFGLEVBQW1CLHNDQUFuQixFQUFvQyxvQkFBcEMsRUFBNEMsb0JBQTVDLEVBQW9ELHNCQUFwRCxFQUE2RCxnQkFBN0QsRUFBbUUsNENBQW5FLEVBQXVGLHdDQUF2RixFQUF5RyxnQ0FBekcsRUFBdUgsc0NBQXZILEVBQXdJLHdDQUF4SSxFQUEwSiw4QkFBMUosRUFBdUssd0NBQXZLLEVBQXlMLDBCQUF6TCxFQUFvTTs7QUFFcE0sUUFBQSxHQUFXLE9BQUEsQ0FBUSxpQkFBUjs7QUFDWCxJQUFBLEdBQVcsT0FBQSxDQUFRLGdCQUFSOztBQUNYLElBQUEsR0FBVyxPQUFBLENBQVEsUUFBUjs7QUFDWCxNQUFBLEdBQVcsT0FBQSxDQUFRLFVBQVI7O0FBQ1gsS0FBQSxHQUFXLE9BQUEsQ0FBUSxTQUFSOztBQUNYLE9BQUEsR0FBVyxPQUFBLENBQVEsV0FBUjs7QUFFTDtJQUVDLGVBQUMsSUFBRDtBQUVDLFlBQUE7UUFGQSxJQUFDLENBQUEsT0FBRDs7Ozs7O1FBRUEsSUFBQyxDQUFBLE1BQUQsR0FBVTtRQUNWLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBTixDQUFBO1FBRUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxJQUFBLENBQUssUUFBTCxFQUFjO1lBQUEsQ0FBQSxLQUFBLENBQUEsRUFBTSxTQUFOO1lBQWdCLE1BQUEsRUFBTyxJQUFDLENBQUEsSUFBeEI7U0FBZDtRQUVWLElBQUMsQ0FBQSxPQUFELENBQUE7UUFDQSxJQUFDLENBQUEsTUFBRCxHQUFVLElBQUksTUFBSixDQUFXLElBQUMs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bnQiOlsiIyMjXG4wMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAgICAgICAwMDAwMDAwICAgIFxuMDAwIDAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwICAgMDAwICBcbjAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMCAgICAgIDAwMCAgIDAwMCAgXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAwMDAgIFxuMDAgICAgIDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMCAgICBcbiMjI1xuXG57IGRlZzJyYWQsIHByZWZzLCBlbGVtLCBrbG9nIH0gPSByZXF1aXJlICdreGsnXG57IEFyY1JvdGF0ZUNhbWVyYSwgRnJhbWluZ0JlaGF2aW9yLCBFbmdpbmUsIENvbG9yMywgVmVjdG9yMywgTWVzaCwgU2ltcGxpZmljYXRpb25UeXBlLCBEaXJlY3Rpb25hbExpZ2h0LCBBbWJpZW50TGlnaHQsIFNoYWRvd0dlbmVyYXRvciwgU3RhbmRhcmRNYXRlcmlhbCwgTWVzaEJ1aWxkZXIsIEhlbWlzcGhlcmljTGlnaHQsIFNwb3RMaWdodCwgUG9pbnRMaWdodCB9ID0gcmVxdWlyZSAnYmFieWxvbmpzJ1xuXG5nZW5lcmF0ZSA9IHJlcXVpcmUgJy4vcG9seS9nZW5lcmF0ZSdcblBvbHkgICAgID0gcmVxdWlyZSAnLi9wb2x5L3BvbHlvbGQnXG5WZWN0ICAgICA9IHJlcXVpcmUgJy4vdmVjdCdcbkNhbWVyYSAgID0gcmVxdWlyZSAnLi9jYW1lcmEnXG5TY2VuZSAgICA9IHJlcXVpcmUgJy4vc2NlbmUnXG5hbmltYXRlICA9IHJlcXVpcmUgJy4vYW5pbWF0ZSdcblxuY2xhc3MgV29ybGRcbiAgICBcbiAgICBAOiAoQHZpZXcpIC0+XG4gICAgICAgIFxuICAgICAgICBAcGF1c2VkID0gZmFsc2VcbiAgICAgICAgQHZpZXcuZm9jdXMoKVxuICAgICAgICBcbiAgICAgICAgQGNhbnZhcyA9IGVsZW0gJ2NhbnZhcycgY2xhc3M6J2JhYnlsb24nIHBhcmVudDpAdmlld1xuICAgICAgICBcbiAgICAgICAgQHJlc2l6ZWQoKVxuICAgICAgICBAZW5naW5lID0gbmV3IEVuZ2luZSBAY2FudmFzLCB0cnVlXG4gICAgICAgIEBzY2VuZSA9IG5ldyBTY2VuZSBAZW5naW5lIFxuICAgICAgICBcbiAgICAgICAgYSA9IDAuMDZcbiAgICAgICAgQHNjZW5lLmNsZWFyQ29sb3IgPSBuZXcgQ29sb3IzIGEsIGEsIGFcblxuICAgICAgICBAY2FtZXJhID0gbmV3IENhbWVyYSBAc2NlbmUsIEB2aWV3LCBAY2FudmFzXG4gICAgICAgIFxuICAgICAgICBoZW1pID0gbmV3IEhlbWlzcGhlcmljTGlnaHQgJ2hlbWknIG5ldyBWZWN0KDAgMSAwKSwgQHNjZW5lXG4gICAgICAgIGhlbWkuaW50ZW5zaXR5ID0gMC41XG4gICAgICAgIFxuICAgICAgICBsaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0ICdsaWdodCcgKG5ldyBWZWN0b3IzKDAgLTEgMCkpLCBAc2NlbmVcbiAgICAgICAgbGlnaHQucG9zaXRpb24ueSA9IDNcbiAgICAgICAgIyBsaWdodC5pbnRlbnNpdHkgPSAwLjFcbiAgICAgICAgXG4gICAgICAgIHNoYWRvd0dlbmVyYXRvciA9IG5ldyBTaGFkb3dHZW5lcmF0b3IgOCoxMDI0LCBsaWdodFxuICAgICAgICBzaGFkb3dHZW5lcmF0b3IuYmlhcyA9IDAuMDAwMlxuICAgICAgICBzaGFkb3dHZW5lcmF0b3IuZGFya25lc3MgPSAwLjhcbiAgICAgICAgc2hhZG93R2VuZXJhdG9yLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwID0gdHJ1ZVxuICAgICAgICBzaGFkb3dHZW5lcmF0b3IudXNlUG9pc3NvblNhbXBsaW5nID0gdHJ1ZVxuICAgICAgICBzaGFkb3dHZW5lcmF0b3IudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyA9IHRydWVcbiAgICAgICAgc2hhZG93R2VuZXJhdG9yLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3cgPSB0cnVlXG4gICAgICAgIFxuICAgICAgICBncm91bmQgPSBNZXNoQnVpbGRlci5DcmVhdGVHcm91bmQgJ2dyb3VuZCcge3dpZHRoOjEwMDAgaGVpZ2h0OjEwMDAgc3ViZGl2aXNpb25zOiA0fSwgQHNjZW5lXG4gICAgICAgIGdyb3VuZC5tYXRlcmlhbCA9IG5ldyBTdGFuZGFyZE1hdGVyaWFsICdtYXQnIEBzY2VuZVxuICAgICAgICBncm91bmQubWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG5ldyBDb2xvcjMgMC4wNSAwLjA1IDAuMDVcbiAgICAgICAgYSA9IDAuMDVcbiAgICAgICAgZ3JvdW5kLm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBDb2xvcjMgYSwgYSwgYVxuICAgICAgICBncm91bmQucmVjZWl2ZVNoYWRvd3MgPSB0cnVlXG4gICAgICAgIGdyb3VuZC5wb3NpdGlvbi55ID0gLTRcbiAgICAgICAgICAgICBcbiAgICAgICAgQGN1cnNvciA9IE1lc2hCdWlsZGVyLkNyZWF0ZUljb1NwaGVyZSAnY3Vyc29yJyBmbGF0OmZhbHNlIHJhZGl1czowLjk5LCBAc2NlbmVcbiAgICAgICAgQGN1cnNvci5tYXRlcmlhbCA9IG5ldyBTdGFuZGFyZE1hdGVyaWFsICdtYXQnIEBzY2VuZVxuICAgICAgICBAY3Vyc29yLm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBDb2xvcjMgMC4wNSAwLjA1IDAuMDVcbiAgICAgICAgQGN1cnNvci5tYXRlcmlhbC5hbHBoYSA9IDAuMjVcbiAgICAgICAgXG4gICAgICAgIEBlbmdpbmUucnVuUmVuZGVyTG9vcCBAYW5pbWF0ZVxuICAgICAgICBpZiBwcmVmcy5nZXQgJ2luc3BlY3RvcidcbiAgICAgICAgICAgIEB0b2dnbGVJbnNwZWN0b3IoKVxuICAgICAgICAgICAgIFxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAncG9pbnRlcmRvd24nIEBvbk1vdXNlRG93blxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAncG9pbnRlcnVwJyAgIEBvbk1vdXNlVXBcbiAgICAgICAgICAgIFxuICAgICAgICBpZiAwXG4gICAgICAgICAgICBuYW1lcyA9IFtcbiAgICAgICAgICAgICAgICAndGV0cmFoZWRyb24nXG4gICAgICAgICAgICAgICAgJ2N1YmUnXG4gICAgICAgICAgICAgICAgJ29jdGFoZWRyb24nXG4gICAgICAgICAgICAgICAgJ2RvZGVjYWhlZHJvbidcbiAgICAgICAgICAgICAgICAnaWNvc2FoZWRyb24nXG4gICAgICAgICAgICAgICAgJ2N1Ym9jdGFoZWRyb24nXG4gICAgICAgICAgICAgICAgJ2ljb3NpZG9kZWNhaGVkcm9uJ1xuICAgICAgICAgICAgICAgICd0cnVuY2F0ZWRpY29zaWRvZGVjYWhlZHJvbicgXG4gICAgICAgICAgICAgICAgJ3Job21iaWNvc2lkb2RlY2FoZWRyb24nIFxuICAgICAgICAgICAgICAgICdyaG9tYmljdWJvY2FoZWRyb24nIFxuICAgICAgICAgICAgICAgICdzbnViaWNvc2lkb2RlY2FoZWRyb24nIFxuICAgICAgICAgICAgICAgICdzbnViY3Vib2N0YWhlZHJvbidcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIG0saiBpbiBuYW1lc1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciBpIGluIFswLi4xMF1cbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGVkID0gUG9seS50cnVuY2F0ZSBQb2x5W21dKCksIGkqMC4xXG4gICAgICAgICAgICAgICAgICAgIHAgPSBNZXNoLkNyZWF0ZVBvbHloZWRyb24gbSwge2N1c3RvbTp0cnVuY2F0ZWR9LCBAc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgcC5yZWNlaXZlU2hhZG93cyA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgcC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpXG4gICAgICAgICAgICAgICAgICAgIHAucG9zaXRpb24ueCA9IDMqalxuICAgICAgICAgICAgICAgICAgICBwLnBvc2l0aW9uLnogPSAzKmlcbiAgICAgICAgICAgICAgICAgICAgcC5wb3NpdGlvbi55ID0gLTJcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93R2VuZXJhdG9yLmFkZFNoYWRvd0Nhc3RlciBwXG4gICAgICAgICAgICAgICAgICAgIHAubWF0ZXJpYWwgPSBuZXcgU3RhbmRhcmRNYXRlcmlhbCAnbWF0JyBAc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgcC5tYXRlcmlhbC5hbHBoYSA9IDEgIyAwLjhcbiAgICAgICAgICAgICAgICAgICAgcC5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBuZXcgQ29sb3IzIGkvMTIgKGovNiklMSAxLWovMTJcbiAgICAgICAgICAgIFxuICAgICAgICB6ID0gMFxuICAgICAgICByb3dzID0gW1xuICAgICAgICAgICAgIyBbJ1QnICd0VCcgJ0MnICd0QycgJ08nICd0TycgJ0QnICd0RCcgJ0knICd0SSddXG4gICAgICAgICAgICAjIFsnWTMnJ1k0JydZNScnWTYnJ1k3JydZOCcnWTknJ1kxMCcnWTExJydZMTInXVxuICAgICAgICAgICAgIyBbJ1AzJydQNCcnUDUnJ1A2JydQNycnUDgnJ1A5JydQMTAnJ1AxMScnUDEyJ11cbiAgICAgICAgICAgICMgWydBMycnQTQnJ0E1JydBNicnQTcnJ0E4JydBOScnQTEwJydBMTEnJ0ExMiddXG4gICAgICAgICAgICAjIFsnVTMnJ1U0JydVNScnVTYnJ1U3JydVOCcnVTknJ1UxMCcnVTExJydVMTInXVxuICAgICAgICAgICAgIyBbJ1YzJydWNCcnVjUnJ1Y2JydWNycnVjgnJ1Y5JydWMTAnJ1YxMScnVjEyJ11cbiAgICAgICAgICAgICMgWydoWTMnJ2hZNCcnaFk1JydoWTYnJ2hZNycnaFk4JydoWTknJ2hZMTAnJ2hZMTEnJ2hZMTInJ2hZMTMnJ2hZMTQnXVxuICAgICAgICAgICAgIyBbJ2hUJydoQycnaE8nJ2hEJydoSSddXG4gICAgICAgICAgICAjIFsncFQnJ3B0VCcncEMnJ3B0QycncE8nJ3B0TycncEQnJ3B0RCcncEknJ3B0SSddXG4gICAgICAgICAgICAjIFsncFkzJydwWTQnJ3BZNScncFk2JydwWTcnJ3BZOCcncFk5JydwWTEwJydwWTExJydwWTEyJ11cbiAgICAgICAgICAgICMgWydwUDMnJ3BQNCcncFA1JydwUDYnJ3BQNycncFA4JydwUDknJ3BQMTAnJ3BQMTEnJ3BQMTInXVxuICAgICAgICAgICAgIyBbJ3BBMycncEE0JydwQTUnJ3BBNicncEE3JydwQTgnJ3BBOScncEExMCcncEExMScncEExMiddXG4gICAgICAgICAgICAjIFsncFUzJydwVTQnJ3BVNScncFU2JydwVTcnJ3BVOCcncFU5JydwVTEwJydwVTExJydwVTEyJ11cbiAgICAgICAgICAgICMgWydwVjMnJ3BWNCcncFY1JydwVjYnJ3BWNycncFY4JydwVjknJ3BWMTAnJ3BWMTEnJ3BWMTInXVxuICAgICAgICAgICAgIyBbJ3FUJydxdFQnJ3FDJydxdEMnJ3FPJydxdE8nJ3FEJydxdEQnJ3FJJydxdEknXVxuICAgICAgICAgICAgIyBbJ3FZMycncVk0JydxWTUnJ3FZNicncVk3JydxWTgnJ3FZOScncVkxMCcncVkxMScncVkxMiddXG4gICAgICAgICAgICAjIFsncVAzJydxUDQnJ3FQNScncVA2JydxUDcnJ3FQOCcncVA5JydxUDEwJydxUDExJydxUDEyJ11cbiAgICAgICAgICAgICMgWydxQTMnJ3FBNCcncUE1JydxQTYnJ3FBNycncUE4JydxQTknJ3FBMTAnJ3FBMTEnJ3FBMTInXVxuICAgICAgICAgICAgIyBbJ3FVMycncVU0JydxVTUnJ3FVNicncVU3JydxVTgnJ3FVOScncVUxMCcncVUxMScncVUxMiddXG4gICAgICAgICAgICAjIFsncVYzJydxVjQnJ3FWNScncVY2JydxVjcnJ3FWOCcncVY5JydxVjEwJydxVjExJydxVjEyJ11cbiAgICAgICAgICAgIFsnVCcnQycnTycnRCcnSSddXG4gICAgICAgICAgICBbJ2RUJydkQycnZE8nJ2REJydkSSddXG4gICAgICAgICAgICBbJ2tkVCcna2RDJydrZE8nJ2tkRCcna2RJJ11cbiAgICAgICAgICAgIFsndFQnJ3RDJyd0TycndEQnJ3RJJ11cbiAgICAgICAgICAgIFsna1QnJ2pDJydrTycna0MnJ29DJydtQycnZ0MnJ2pEJydrSScna0QnJ29EJydtRCcnZ0QnXVxuICAgICAgICAgICAgWydZMycnWTQnJ1k1JydZNicnWTcnJ1k4JydZOScnWTEwJydZMTEnJ1kxMiddXG4gICAgICAgICAgICBbJ1AzJydQNCcnUDUnJ1A2JydQNycnUDgnJ1A5JydQMTAnJ1AxMScnUDEyJ11cbiAgICAgICAgICAgIFsnQTMnJ0E0JydBNScnQTYnJ0E3JydBOCcnQTknJ0ExMCcnQTExJydBMTInXVxuICAgICAgICAgICAgWydVMycnVTQnJ1U1JydVNicnVTcnJ1U4JydVOScnVTEwJydVMTEnJ1UxMiddXG4gICAgICAgICAgICAjIFsna2RUJydrZEMnJ2tkTycna2REJydrZEknXVxuICAgICAgICAgICAgIyBbJ2tkWTMnJ2tkWTQnJ2tkWTUnJ2tkWTYnJ2tkWTcnJ2tkWTgnJ2tkWTknJ2tkWTEwJydrZFkxMScna2RZMTInXVxuICAgICAgICAgICAgIyBbJ2tkUDMnJ2tkUDQnJ2tkUDUnJ2tkUDYnJ2tkUDcnJ2tkUDgnJ2tkUDknJ2tkUDEwJydrZFAxMScna2RQMTInXVxuICAgICAgICAgICAgIyBbJ2tkQTMnJ2tkQTQnJ2tkQTUnJ2tkQTYnJ2tkQTcnJ2tkQTgnJ2tkQTknJ2tkQTEwJydrZEExMScna2RBMTInXVxuICAgICAgICAgICAgIyBbJ2tkVTMnJ2tkVTQnJ2tkVTUnJ2tkVTYnJ2tkVTcnJ2tkVTgnJ2tkVTknJ2tkVTEwJydrZFUxMScna2RVMTInXVxuICAgICAgICAgICAgIyBbJ2tkYVQnJ2tkYUMnJ2tkYU8nJ2tkYUQnJ2tkYUknXVxuICAgICAgICAgICAgIyBbJ3RUJyd0QycndE8nJ3REJyd0SSddXG4gICAgICAgICAgICAjIFsndFkzJyd0WTQnJ3RZNScndFk2Jyd0WTcnJ3RZOCcndFk5Jyd0WTEwJyd0WTExJyd0WTEyJ11cbiAgICAgICAgICAgICMgWyd0UDMnJ3RQNCcndFA1Jyd0UDYnJ3RQNycndFA4Jyd0UDknJ3RQMTAnJ3RQMTEnJ3RQMTInXVxuICAgICAgICAgICAgIyBbJ3RBMycndEE0Jyd0QTUnJ3RBNicndEE3Jyd0QTgnJ3RBOScndEExMCcndEExMScndEExMiddXG4gICAgICAgICAgICAjIFsndFUzJyd0VTQnJ3RVNScndFU2Jyd0VTcnJ3RVOCcndFU5Jyd0VTEwJyd0VTExJyd0VTEyJ11cbiAgICAgICAgICAgICMgWyd0YVQnJ3RhQycndGFPJyd0YUQnJ3RhSSddXG4gICAgICAgICAgICAjIFsndGFZMycndGFZNCcndGFZNScndGFZNicndGFZNycndGFZOCcndGFZOScndGFZMTAnJ3RhWTExJyd0YVkxMiddXG4gICAgICAgICAgICAjIFsndGFQMycndGFQNCcndGFQNScndGFQNicndGFQNycndGFQOCcndGFQOScndGFQMTAnJ3RhUDExJyd0YVAxMiddXG4gICAgICAgICAgICAjIFsndGFBMycndGFBNCcndGFBNScndGFBNicndGFBNycndGFBOCcndGFBOScndGFBMTAnJ3RhQTExJyd0YUExMiddXG4gICAgICAgICAgICAjIFsndGFVMycndGFVNCcndGFVNScndGFVNicndGFVNycndGFVOCcndGFVOScndGFVMTAnJ3RhVTExJyd0YVUxMiddXG4gICAgICAgICAgICAjIFsnYVQnJ2FDJydhTycnYUQnJ2FJJ11cbiAgICAgICAgICAgICMgWydhWTMnJ2FZNCcnYVk1JydhWTYnJ2FZNycnYVk4JydhWTknJ2FZMTAnJ2FZMTEnJ2FZMTInXVxuICAgICAgICAgICAgIyBbJ2FQMycnYVA0JydhUDUnJ2FQNicnYVA3JydhUDgnJ2FQOScnYVAxMCcnYVAxMScnYVAxMiddXG4gICAgICAgICAgICAjIFsnYUEzJydhQTQnJ2FBNScnYUE2JydhQTcnJ2FBOCcnYUE5JydhQTEwJydhQTExJydhQTEyJ11cbiAgICAgICAgICAgICMgWydhVTMnJ2FVNCcnYVU1JydhVTYnJ2FVNycnYVU4JydhVTknJ2FVMTAnJ2FVMTEnJ2FVMTInXVxuICAgICAgICAgICAgXVxuICAgICAgICBcbiAgICAgICAgZm9yIHJvdyBpbiByb3dzXG4gICAgICAgICAgICBqID0gMFxuICAgICAgICAgICAgeisrXG4gICAgICAgICAgICBmb3IgY29kZSBpbiByb3dcbiAgICAgICAgICAgICAgICBqKytcbiAgICAgICAgICAgICAgICAjIGZvciBkLHkgaW4gWycnICdkJyAna2QnICdka2QnXVxuICAgICAgICAgICAgICAgIGZvciBkLHkgaW4gWycnXVxuICAgICAgICAgICAgICAgICAgICBwb2x5ID0gZ2VuZXJhdGUgZCtjb2RlXG4gICAgICAgICAgICAgICAgICAgIHAgPSBNZXNoLkNyZWF0ZVBvbHloZWRyb24gY29kZSwge2N1c3RvbTpwb2x5fSwgQHNjZW5lXG4gICAgICAgICAgICAgICAgICAgICMgQHNjZW5lLnNob3dOb3JtYWxzIHBcbiAgICAgICAgICAgICAgICAgICAgQHNjZW5lLnNob3dGYWNlcyBwLCBwb2x5XG4gICAgICAgICAgICAgICAgICAgIHAucmVjZWl2ZVNoYWRvd3MgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHAucG9zaXRpb24ueCA9IDMqalxuICAgICAgICAgICAgICAgICAgICBwLnBvc2l0aW9uLnogPSAzKnpcbiAgICAgICAgICAgICAgICAgICAgcC5wb3NpdGlvbi55ID0geSozXG4gICAgICAgICAgICAgICAgICAgIHAucm90YXRlIFZlY3QudW5pdFgsIGRlZzJyYWQgLTkwXG4gICAgICAgICAgICAgICAgICAgIHAuY29udmVydFRvRmxhdFNoYWRlZE1lc2goKVxuICAgICAgICAgICAgICAgICAgICBzaGFkb3dHZW5lcmF0b3IuYWRkU2hhZG93Q2FzdGVyIHBcbiAgICAgICAgICAgICAgICAgICAgcC5tYXRlcmlhbCA9IG5ldyBTdGFuZGFyZE1hdGVyaWFsICdtYXQnIEBzY2VuZVxuICAgICAgICAgICAgICAgICAgICBwLm1hdGVyaWFsLmFscGhhID0gMVxuICAgICAgICAgICAgICAgICAgICBwLm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBDb2xvcjMgaS8xMiAoai82KSUxIDEtai8xMiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAjIDAwICAgICAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAwIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAgXG4gICAgIyAwMDAgICAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgIFxuICAgIFxuICAgIG9uTW91c2VEb3duOiAoZXZlbnQpID0+XG4gICAgICAgIFxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAncG9pbnRlcm1vdmUnIEBvbk1vdXNlTW92ZVxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gQHNjZW5lLnBpY2sgQHNjZW5lLnBvaW50ZXJYLCBAc2NlbmUucG9pbnRlcllcbiAgICAgICAgaWYgZXZlbnQuYnV0dG9ucyAmIDJcbiAgICAgICAgICAgIEBtb3VzZURvd25NZXNoID0gcmVzdWx0LnBpY2tlZE1lc2ggICAgICAgICBcbiAgICAgICAgQGNhbWVyYS5vbk1vdXNlRG93biBldmVudFxuXG4gICAgb25Nb3VzZU1vdmU6IChldmVudCkgPT5cbiAgICAgICAgXG4gICAgICAgIEBjYW1lcmEub25Nb3VzZURyYWcgZXZlbnRcbiAgICAgICAgXG4gICAgb25Nb3VzZVVwOiAoZXZlbnQpID0+ICAgICAgICAgICAgICAgIFxuXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyICdwb2ludGVybW92ZScgQG9uTW91c2VNb3ZlXG4gICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gQHNjZW5lLnBpY2sgQHNjZW5lLnBvaW50ZXJYLCBAc2NlbmUucG9pbnRlcllcbiAgICAgICAgaWYgbWVzaCA9IHJlc3VsdC5waWNrZWRNZXNoXG4gICAgICAgICAgICBpZiBtZXNoLm5hbWUgIT0gJ2dyb3VuZCcgYW5kIG1lc2ggPT0gQG1vdXNlRG93bk1lc2hcbiAgICAgICAgICAgICAgICBpZiBtZXNoLm5hbWUgaW4gWydmYWNlcycnbm9ybWFscyddXG4gICAgICAgICAgICAgICAgICAgIGtsb2cgbWVzaC5wYXJlbnQubmFtZVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAga2xvZyBtZXNoLm5hbWVcbiAgICAgICAgICAgICAgICBAY3Vyc29yLnBvc2l0aW9uID0gbWVzaC5nZXRBYnNvbHV0ZVBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICBAY2FtZXJhLmZhZGVUb1BvcyBtZXNoLmdldEFic29sdXRlUG9zaXRpb24oKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBAY2FtZXJhLm9uTW91c2VVcCBldmVudFxuICAgICAgICAgICAgICAgIFxuICAgICMgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgXG4gICAgIyAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcbiAgICAjIDAwMCAgMDAwIDAgMDAwICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAwMDAwICAgIFxuICAgICMgMDAwICAwMDAgIDAwMDAgICAgICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMCAgICAgICAgMDAwMDAwMDAgICAwMDAwMDAwICAgICAwMDAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICBcbiAgICBcbiAgICB0b2dnbGVJbnNwZWN0b3I6IC0+XG4gICAgICAgIFxuICAgICAgICBpZiBAc2NlbmUuZGVidWdMYXllci5pc1Zpc2libGUoKVxuICAgICAgICAgICAgQHNjZW5lLmRlYnVnTGF5ZXIuaGlkZSgpXG4gICAgICAgICAgICBwcmVmcy5zZXQgJ2luc3BlY3RvcicgZmFsc2VcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHNjZW5lLmRlYnVnTGF5ZXIuc2hvdyBvdmVybGF5OnRydWUgc2hvd0luc3BlY3Rvcjp0cnVlXG4gICAgICAgICAgICBwcmVmcy5zZXQgJ2luc3BlY3RvcicgdHJ1ZVxuICAgICAgICBcbiAgICBzdGFydDogLT4gQHZpZXcuZm9jdXMoKVxuXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAwMDAwMDAgIDAwMCAwIDAwMCAgMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAwMDAwMCAgXG4gICAgXG4gICAgYW5pbWF0ZTogPT5cblxuICAgICAgICBpZiBub3QgQHBhdXNlZFxuICAgICAgICAgICAgQHNjZW5lLnJlbmRlcigpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFuaW1hdGUudGljayBAZW5naW5lLmdldERlbHRhVGltZSgpLzEwMDBcbiAgICBcbiAgICAjIDAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAgIDAwMCAgIDAwMCAgICAgICBcbiAgICAjIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAgMDAwICAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAwICBcbiAgICBcbiAgICByZXNpemVkOiA9PiBcblxuICAgICAgICBAY2FudmFzLndpZHRoID0gQHZpZXcuY2xpZW50V2lkdGhcbiAgICAgICAgQGNhbnZhcy5oZWlnaHQgPSBAdmlldy5jbGllbnRIZWlnaHRcbiAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwIDAwMCAgIFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgICAwMDAwMCAgICBcbiAgICAjIDAwMCAgMDAwICAgMDAwICAgICAgICAgIDAwMCAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAwMDAgICAgIFxuICAgIFxuICAgIG1vZEtleUNvbWJvRXZlbnREb3duOiAobW9kLCBrZXksIGNvbWJvLCBldmVudCkgLT5cbiAgICAgICAgXG4gICAgICAgICMga2xvZyAnbW9kS2V5Q29tYm9FdmVudERvd24nIG1vZCwga2V5LCBjb21ibywgZXZlbnQud2hpY2hcbiAgICAgICAgc3dpdGNoIGtleVxuICAgICAgICAgICAgd2hlbiAnZScgdGhlbiBAY2FtZXJhLm1vdmVVcCgpXG4gICAgICAgICAgICB3aGVuICdxJyB0aGVuIEBjYW1lcmEubW92ZURvd24oKVxuICAgICAgICAgICAgd2hlbiAnYScgdGhlbiBAY2FtZXJhLm1vdmVMZWZ0KClcbiAgICAgICAgICAgIHdoZW4gJ2QnIHRoZW4gQGNhbWVyYS5tb3ZlUmlnaHQoKVxuICAgICAgICAgICAgd2hlbiAndycgdGhlbiBAY2FtZXJhLm1vdmVGb3J3YXJkKClcbiAgICAgICAgICAgIHdoZW4gJ3MnIHRoZW4gQGNhbWVyYS5tb3ZlQmFja3dhcmQoKVxuICAgICAgICAgICAgd2hlbiAneCcgJ2VzYycgdGhlbiBAY2FtZXJhLnN0b3BNb3ZpbmcoKVxuICAgICAgICBcbiAgICBtb2RLZXlDb21ib0V2ZW50VXA6IChtb2QsIGtleSwgY29tYm8sIGV2ZW50KSAtPlxuXG4gICAgICAgIHN3aXRjaCBrZXlcbiAgICAgICAgICAgIHdoZW4gJ2UnIHRoZW4gQGNhbWVyYS5zdG9wVXAoKVxuICAgICAgICAgICAgd2hlbiAncScgdGhlbiBAY2FtZXJhLnN0b3BEb3duKClcbiAgICAgICAgICAgIHdoZW4gJ2EnIHRoZW4gQGNhbWVyYS5zdG9wTGVmdCgpXG4gICAgICAgICAgICB3aGVuICdkJyB0aGVuIEBjYW1lcmEuc3RvcFJpZ2h0KClcbiAgICAgICAgICAgIHdoZW4gJ3cnIHRoZW4gQGNhbWVyYS5zdG9wRm9yd2FyZCgpXG4gICAgICAgICAgICB3aGVuICdzJyB0aGVuIEBjYW1lcmEuc3RvcEJhY2t3YXJkKClcbiAgICAgICAgXG4gICAgICAgICMga2xvZyAnbW9kS2V5Q29tYm9FdmVudFVwJyBtb2QsIGtleSwgY29tYm8sIGV2ZW50LmNvZGVcbiAgICAgICAgXG5tb2R1bGUuZXhwb3J0cyA9IFdvcmxkXG4iXX0=
//# sourceURL=../coffee/world.coffee