// koffee 1.6.0

/*
00     00   0000000   000000000  000   000
000   000  000   000     000     000   000
000000000  000000000     000     000000000
000 0 000  000   000     000     000   000
000   000  000   000     000     000   000
 */
var LN10, PI, Quat, Vect, _, _mult, abs, acos, add, asin, atan, calcCentroid, clone, copyVecArray, cos, cross, dot, edgeDist, faceSignature, floor, intersect, klog, linePointDist2, log, mag, mag2, midpoint, mult, neg, normal, oneThird, orthogonal, planararea, pointPlaneDist, pow, project2dface, rad2deg, random, randomchoice, rayPlane, rayRay, reciprocal, ref, rotate, round, sigfigs, sin, sqrt, sub, tan, tangentPoint, tween, unit;

ref = require('kxk'), rad2deg = ref.rad2deg, klog = ref.klog, _ = ref._;

random = Math.random, round = Math.round, floor = Math.floor, sqrt = Math.sqrt, sin = Math.sin, cos = Math.cos, tan = Math.tan, asin = Math.asin, acos = Math.acos, atan = Math.atan, abs = Math.abs, pow = Math.pow, log = Math.log, PI = Math.PI, LN10 = Math.LN10;

Vect = require('../vect');

Quat = require('../quat');

sigfigs = function(N, nsigs) {
    var mantissa, truncated_mantissa;
    mantissa = N / pow(10, floor(console.log(N) / LN10));
    truncated_mantissa = round(mantissa * pow(10, nsigs - 1));
    return "" + truncated_mantissa;
};

clone = function(obj) {
    var key, newInstance;
    if (!obj || typeof obj !== 'object') {
        return obj;
    }
    newInstance = new obj.constructor();
    for (key in obj) {
        newInstance[key] = clone(obj[key]);
    }
    return newInstance;
};

randomchoice = function(array) {
    return array[floor(random() * array.length)];
};

neg = function(vec) {
    return [-vec[0], -vec[1], -vec[2]];
};

mult = function(c, vec) {
    return [c * vec[0], c * vec[1], c * vec[2]];
};

_mult = function(v1, v2) {
    return [v1[0] * v2[0], v1[1] * v2[1], v1[2] * v2[2]];
};

add = function(v1, v2) {
    return [v1[0] + v2[0], v1[1] + v2[1], v1[2] + v2[2]];
};

sub = function(v1, v2) {
    return [v1[0] - v2[0], v1[1] - v2[1], v1[2] - v2[2]];
};

dot = function(v1, v2) {
    return (v1[0] * v2[0]) + (v1[1] * v2[1]) + (v1[2] * v2[2]);
};

cross = function(d1, d2) {
    return [(d1[1] * d2[2]) - (d1[2] * d2[1]), (d1[2] * d2[0]) - (d1[0] * d2[2]), (d1[0] * d2[1]) - (d1[1] * d2[0])];
};

mag = function(vec) {
    return sqrt(dot(vec, vec));
};

mag2 = function(vec) {
    return dot(vec, vec);
};

unit = function(vec) {
    return mult(1 / sqrt(mag2(vec)), vec);
};

tween = function(v1, v2, t) {
    return [((1 - t) * v1[0]) + (t * v2[0]), ((1 - t) * v1[1]) + (t * v2[1]), ((1 - t) * v1[2]) + (t * v2[2])];
};

midpoint = function(v1, v2) {
    return mult(0.5, add(v1, v2));
};

oneThird = function(v1, v2) {
    return tween(v1, v2, 1 / 3.0);
};

rotate = function(vec, axis, angle) {
    var res, rot;
    rot = Quat.axisAngle(new Vect(axis), rad2deg(angle));
    res = rot.rotated(vec);
    return res.coords();
};

reciprocal = function(vec) {
    return mult(1.0 / mag2(vec), vec);
};

tangentPoint = function(v1, v2) {
    var d;
    d = sub(v2, v1);
    return sub(v1, mult(dot(d, v1) / mag2(d), d));
};

edgeDist = function(v1, v2) {
    return sqrt(mag2(tangentPoint(v1, v2)));
};

linePointDist2 = function(v1, v2, v3) {
    var d13, d21, d23, m2, result, t;
    d21 = sub(v2, v1);
    d13 = sub(v1, v3);
    d23 = sub(v2, v3);
    m2 = mag2(d21);
    t = -dot(d13, d21) / m2;
    if (t <= 0) {
        result = mag2(d13);
    } else if (t >= 1) {
        result = mag2(d23);
    } else {
        result = mag2(cross(d21, d13)) / m2;
    }
    return result;
};

pointPlaneDist = function(pos, planePos, planeNormal) {
    return mag(sub(pos, rayPlane(pos, planeNormal, planePos, planeNormal)));
};

rayPlane = function(rayPos, rayDirection, planePos, planeNormal) {
    var x;
    x = dot(sub(planePos, rayPos), planeNormal) / dot(rayDirection, planeNormal);
    return add(rayPos, mult(x, rayDirection));
};

rayRay = function(rayA, rayB) {
    var A, B, D, E, a, aa, ab, ac, b, bb, bc, c;
    A = rayA[0];
    B = rayB[0];
    a = sub(rayA[1], A);
    b = sub(rayB[1], B);
    c = sub(B, A);
    aa = dot(a, a);
    ab = dot(a, b);
    ac = dot(a, c);
    bc = dot(b, c);
    bb = dot(b, b);
    D = add(A, mult((-ab * bc + ac * bb) / (aa * bb - ab * ab), a));
    E = add(B, mult((ab * ac - bc * aa) / (aa * bb - ab * ab), b));
    if (0.1 < mag(sub(D, E))) {
        klog('no intersect?', mag(sub(D, E)));
    }
    return mult(0.5, add(D, E));
};

orthogonal = function(v1, v2, v3) {
    return cross(sub(v2, v1), sub(v3, v2));
};

intersect = function(set1, set2, set3) {
    var j, k, l, len, len1, len2, s1, s2, s3;
    for (j = 0, len = set1.length; j < len; j++) {
        s1 = set1[j];
        for (k = 0, len1 = set2.length; k < len1; k++) {
            s2 = set2[k];
            if (s1 === s2) {
                for (l = 0, len2 = set3.length; l < len2; l++) {
                    s3 = set3[l];
                    if (s1 === s3) {
                        return s1;
                    }
                }
            }
        }
    }
    return null;
};

calcCentroid = function(vertices) {
    var centroidV, j, len, v;
    centroidV = [0, 0, 0];
    for (j = 0, len = vertices.length; j < len; j++) {
        v = vertices[j];
        centroidV = add(centroidV, v);
    }
    return mult(1 / vertices.length, centroidV);
};

normal = function(vertices) {
    var j, len, normalV, ref1, ref2, v1, v2, v3;
    normalV = [0, 0, 0];
    ref1 = vertices.slice(-2), v1 = ref1[0], v2 = ref1[1];
    for (j = 0, len = vertices.length; j < len; j++) {
        v3 = vertices[j];
        normalV = add(normalV, orthogonal(v1, v2, v3));
        ref2 = [v2, v3], v1 = ref2[0], v2 = ref2[1];
    }
    return unit(normalV);
};

planararea = function(vertices) {
    var area, j, len, ref1, ref2, v1, v2, v3, vsum;
    area = 0.0;
    vsum = [0, 0, 0];
    ref1 = vertices.slice(-2), v1 = ref1[0], v2 = ref1[1];
    for (j = 0, len = vertices.length; j < len; j++) {
        v3 = vertices[j];
        vsum = add(vsum, cross(v1, v2));
        ref2 = [v2, v3], v1 = ref2[0], v2 = ref2[1];
    }
    return area = abs(dot(normal(vertices), vsum) / 2.0);
};

faceSignature = function(vertices, sensitivity) {
    var cross_array, j, k, l, len, len1, len2, ref1, ref2, ref3, sig, v1, v2, v3, x;
    cross_array = [];
    ref1 = vertices.slice(-2), v1 = ref1[0], v2 = ref1[1];
    for (j = 0, len = vertices.length; j < len; j++) {
        v3 = vertices[j];
        cross_array.push(mag(cross(sub(v1, v2), sub(v3, v2))));
        ref2 = [v2, v3], v1 = ref2[0], v2 = ref2[1];
    }
    cross_array.sort(function(a, b) {
        return a - b;
    });
    sig = '';
    for (k = 0, len1 = cross_array.length; k < len1; k++) {
        x = cross_array[k];
        sig += sigfigs(x, sensitivity);
    }
    ref3 = cross_array.reverse();
    for (l = 0, len2 = ref3.length; l < len2; l++) {
        x = ref3[l];
        sig += sigfigs(x, sensitivity);
    }
    return sig;
};

project2dface = function(verts) {
    var c, n, p, tmpverts, v0;
    tmpverts = clone(verts);
    v0 = verts[0];
    tmpverts = _.map(function(tmpverts, x) {
        return x - v0;
    });
    n = normal(verts);
    c = unit(calcCentroid(verts));
    p = cross(n, c);
    return tmpverts.map(function(v) {
        return [dot(n, v), dot(p, v)];
    });
};

copyVecArray = function(vecArray) {
    var end, i, j, newVecArray, ref1;
    newVecArray = new Array(vecArray.length);
    end = vecArray.length;
    for (i = j = 0, ref1 = end; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {
        newVecArray[i] = vecArray[i].slice(0);
    }
    return newVecArray;
};

module.exports = {
    add: add,
    sub: sub,
    dot: dot,
    mag: mag,
    neg: neg,
    mult: mult,
    unit: unit,
    cross: cross,
    tween: tween,
    normal: normal,
    rotate: rotate,
    rayRay: rayRay,
    oneThird: oneThird,
    midpoint: midpoint,
    calcCentroid: calcCentroid,
    copyVecArray: copyVecArray,
    reciprocal: reciprocal,
    edgeDist: edgeDist,
    intersect: intersect,
    orthogonal: orthogonal,
    tangentPoint: tangentPoint,
    pointPlaneDist: pointPlaneDist,
    rayPlane: rayPlane
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0aC5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUE7O0FBV0EsTUFBdUIsT0FBQSxDQUFRLEtBQVIsQ0FBdkIsRUFBRSxxQkFBRixFQUFXLGVBQVgsRUFBaUI7O0FBQ2Ysb0JBQUYsRUFBVSxrQkFBVixFQUFpQixrQkFBakIsRUFBd0IsZ0JBQXhCLEVBQThCLGNBQTlCLEVBQW1DLGNBQW5DLEVBQXdDLGNBQXhDLEVBQTZDLGdCQUE3QyxFQUFtRCxnQkFBbkQsRUFBeUQsZ0JBQXpELEVBQStELGNBQS9ELEVBQW9FLGNBQXBFLEVBQXlFLGNBQXpFLEVBQThFLFlBQTlFLEVBQWtGOztBQUVsRixJQUFBLEdBQU8sT0FBQSxDQUFRLFNBQVI7O0FBQ1AsSUFBQSxHQUFPLE9BQUEsQ0FBUSxTQUFSOztBQUVQLE9BQUEsR0FBVSxTQUFDLENBQUQsRUFBSSxLQUFKO0FBRVIsUUFBQTtJQUFBLFFBQUEsR0FBVyxDQUFBLEdBQUksR0FBQSxDQUFJLEVBQUosRUFBTyxLQUFBLENBQUksT0FBQSxDQUFFLEdBQUYsQ0FBTSxDQUFOLENBQUEsR0FBUyxJQUFiLENBQVA7SUFDZixrQkFBQSxHQUFxQixLQUFBLENBQU0sUUFBQSxHQUFXLEdBQUEsQ0FBSSxFQUFKLEVBQU8sS0FBQSxHQUFNLENBQWIsQ0FBakI7V0FDckIsRUFBQSxHQUFHO0FBSks7O0FBTVYsS0FBQSxHQUFRLFNBQUMsR0FBRDtBQUVKLFFBQUE7SUFBQSxJQUFHLENBQUksR0FBSixJQUFXLE9BQU8sR0FBUCxLQUFlLFFBQTdCO0FBQ0ksZUFBTyxJQURYOztJQUVBLFdBQUEsR0FBYyxJQUFJLEdBQUcsQ0FBQyxXQUFSLENBQUE7QUFDZCxTQUFBLFVBQUE7UUFDSSxXQUFZLENBQUEsR0FBQSxDQUFaLEdBQW1CLEtBQUEsQ0FBTSxHQUFJLENBQUEsR0FBQSxDQUFWO0FBRHZCO1dBRUE7QUFQSTs7QUFTUixZQUFBLEdBQWUsU0FBQyxLQUFEO1dBQVcsS0FBTSxDQUFBLEtBQUEsQ0FBTSxNQUFBLENBQUEsQ0FBQSxHQUFTLEtBQUssQ0FBQyxNQUFyQixDQUFBO0FBQWpCOztBQUVmLEdBQUEsR0FBVyxTQUFDLEdBQUQ7V0FBUyxDQUFDLENBQUMsR0FBSSxDQUFBLENBQUEsQ0FBTixFQUFVLENBQUMsR0FBSSxDQUFBLENBQUEsQ0FBZixFQUFtQixDQUFDLEdBQUksQ0FBQSxDQUFBLENBQXhCO0FBQVQ7O0FBQ1gsSUFBQSxHQUFXLFNBQUMsQ0FBRCxFQUFJLEdBQUo7V0FBWSxDQUFDLENBQUEsR0FBRSxHQUFJLENBQUEsQ0FBQSxDQUFQLEVBQVcsQ0FBQSxHQUFFLEdBQUksQ0FBQSxDQUFBLENBQWpCLEVBQXFCLENBQUEsR0FBRSxHQUFJLENBQUEsQ0FBQSxDQUEzQjtBQUFaOztBQUNYLEtBQUEsR0FBVyxTQUFDLEVBQUQsRUFBSyxFQUFMO1dBQVksQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixFQUFjLEVBQUcsQ0FBQSxDQUFBLENBQUgsR0FBTSxFQUFHLENBQUEsQ0FBQSxDQUF2QixFQUEyQixFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBcEM7QUFBWjs7QUFDWCxHQUFBLEdBQVcsU0FBQyxFQUFELEVBQUssRUFBTDtXQUFZLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsRUFBYyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBdkIsRUFBMkIsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQXBDO0FBQVo7O0FBQ1gsR0FBQSxHQUFXLFNBQUMsRUFBRCxFQUFLLEVBQUw7V0FBWSxDQUFDLEVBQUcsQ0FBQSxDQUFBLENBQUgsR0FBTSxFQUFHLENBQUEsQ0FBQSxDQUFWLEVBQWMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQXZCLEVBQTJCLEVBQUcsQ0FBQSxDQUFBLENBQUgsR0FBTSxFQUFHLENBQUEsQ0FBQSxDQUFwQztBQUFaOztBQUNYLEdBQUEsR0FBVyxTQUFDLEVBQUQsRUFBSyxFQUFMO1dBQVksQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixDQUFBLEdBQWdCLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsQ0FBaEIsR0FBZ0MsQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVjtBQUE1Qzs7QUFDWCxLQUFBLEdBQVcsU0FBQyxFQUFELEVBQUssRUFBTDtXQUFZLENBQUMsQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixDQUFBLEdBQWdCLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsQ0FBakIsRUFBZ0MsQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixDQUFBLEdBQWdCLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsQ0FBaEQsRUFBK0QsQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFILEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixDQUFBLEdBQWdCLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBSCxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsQ0FBL0U7QUFBWjs7QUFDWCxHQUFBLEdBQVcsU0FBQyxHQUFEO1dBQVMsSUFBQSxDQUFLLEdBQUEsQ0FBSSxHQUFKLEVBQVMsR0FBVCxDQUFMO0FBQVQ7O0FBQ1gsSUFBQSxHQUFXLFNBQUMsR0FBRDtXQUFTLEdBQUEsQ0FBSSxHQUFKLEVBQVMsR0FBVDtBQUFUOztBQUNYLElBQUEsR0FBVyxTQUFDLEdBQUQ7V0FBUyxJQUFBLENBQUssQ0FBQSxHQUFFLElBQUEsQ0FBSyxJQUFBLENBQUssR0FBTCxDQUFMLENBQVAsRUFBd0IsR0FBeEI7QUFBVDs7QUFDWCxLQUFBLEdBQVcsU0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLENBQVQ7V0FBZSxDQUFDLENBQUMsQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFBLEdBQU0sRUFBRyxDQUFBLENBQUEsQ0FBVixDQUFBLEdBQWdCLENBQUMsQ0FBQSxHQUFFLEVBQUcsQ0FBQSxDQUFBLENBQU4sQ0FBakIsRUFBNEIsQ0FBQyxDQUFDLENBQUEsR0FBRSxDQUFILENBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQSxDQUFWLENBQUEsR0FBZ0IsQ0FBQyxDQUFBLEdBQUUsRUFBRyxDQUFBLENBQUEsQ0FBTixDQUE1QyxFQUF1RCxDQUFDLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFBLENBQVYsQ0FBQSxHQUFnQixDQUFDLENBQUEsR0FBRSxFQUFHLENBQUEsQ0FBQSxDQUFOLENBQXZFO0FBQWY7O0FBQ1gsUUFBQSxHQUFXLFNBQUMsRUFBRCxFQUFLLEVBQUw7V0FBWSxJQUFBLENBQUssR0FBTCxFQUFVLEdBQUEsQ0FBSSxFQUFKLEVBQVEsRUFBUixDQUFWO0FBQVo7O0FBQ1gsUUFBQSxHQUFXLFNBQUMsRUFBRCxFQUFLLEVBQUw7V0FBWSxLQUFBLENBQU0sRUFBTixFQUFVLEVBQVYsRUFBYyxDQUFBLEdBQUUsR0FBaEI7QUFBWjs7QUFFWCxNQUFBLEdBQVMsU0FBQyxHQUFELEVBQU0sSUFBTixFQUFZLEtBQVo7QUFDTCxRQUFBO0lBQUEsR0FBQSxHQUFNLElBQUksQ0FBQyxTQUFMLENBQWdCLElBQUksSUFBSixDQUFTLElBQVQsQ0FBaEIsRUFBZ0MsT0FBQSxDQUFRLEtBQVIsQ0FBaEM7SUFDTixHQUFBLEdBQU0sR0FBRyxDQUFDLE9BQUosQ0FBWSxHQUFaO1dBQ04sR0FBRyxDQUFDLE1BQUosQ0FBQTtBQUhLOztBQUtULFVBQUEsR0FBYSxTQUFDLEdBQUQ7V0FBUyxJQUFBLENBQUssR0FBQSxHQUFJLElBQUEsQ0FBSyxHQUFMLENBQVQsRUFBb0IsR0FBcEI7QUFBVDs7QUFFYixZQUFBLEdBQWUsU0FBQyxFQUFELEVBQUssRUFBTDtBQUNYLFFBQUE7SUFBQSxDQUFBLEdBQUksR0FBQSxDQUFJLEVBQUosRUFBUSxFQUFSO1dBQ0osR0FBQSxDQUFJLEVBQUosRUFBUSxJQUFBLENBQUssR0FBQSxDQUFJLENBQUosRUFBTyxFQUFQLENBQUEsR0FBVyxJQUFBLENBQUssQ0FBTCxDQUFoQixFQUF5QixDQUF6QixDQUFSO0FBRlc7O0FBSWYsUUFBQSxHQUFXLFNBQUMsRUFBRCxFQUFLLEVBQUw7V0FBWSxJQUFBLENBQUssSUFBQSxDQUFLLFlBQUEsQ0FBYSxFQUFiLEVBQWlCLEVBQWpCLENBQUwsQ0FBTDtBQUFaOztBQU1YLGNBQUEsR0FBaUIsU0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLEVBQVQ7QUFFYixRQUFBO0lBQUEsR0FBQSxHQUFNLEdBQUEsQ0FBSSxFQUFKLEVBQVEsRUFBUjtJQUNOLEdBQUEsR0FBTSxHQUFBLENBQUksRUFBSixFQUFRLEVBQVI7SUFDTixHQUFBLEdBQU0sR0FBQSxDQUFJLEVBQUosRUFBUSxFQUFSO0lBQ04sRUFBQSxHQUFLLElBQUEsQ0FBSyxHQUFMO0lBQ0wsQ0FBQSxHQUFJLENBQUMsR0FBQSxDQUFJLEdBQUosRUFBUyxHQUFULENBQUQsR0FBZTtJQUNuQixJQUFHLENBQUEsSUFBSyxDQUFSO1FBRUksTUFBQSxHQUFTLElBQUEsQ0FBSyxHQUFMLEVBRmI7S0FBQSxNQUdLLElBQUksQ0FBQSxJQUFLLENBQVQ7UUFFRCxNQUFBLEdBQVMsSUFBQSxDQUFLLEdBQUwsRUFGUjtLQUFBLE1BQUE7UUFLRCxNQUFBLEdBQVMsSUFBQSxDQUFLLEtBQUEsQ0FBTSxHQUFOLEVBQVcsR0FBWCxDQUFMLENBQUEsR0FBcUIsR0FMN0I7O1dBTUw7QUFoQmE7O0FBa0JqQixjQUFBLEdBQWlCLFNBQUMsR0FBRCxFQUFNLFFBQU4sRUFBZ0IsV0FBaEI7V0FFYixHQUFBLENBQUksR0FBQSxDQUFJLEdBQUosRUFBUyxRQUFBLENBQVMsR0FBVCxFQUFjLFdBQWQsRUFBMkIsUUFBM0IsRUFBcUMsV0FBckMsQ0FBVCxDQUFKO0FBRmE7O0FBSWpCLFFBQUEsR0FBVyxTQUFDLE1BQUQsRUFBUyxZQUFULEVBQXVCLFFBQXZCLEVBQWlDLFdBQWpDO0FBRVAsUUFBQTtJQUFBLENBQUEsR0FBSSxHQUFBLENBQUksR0FBQSxDQUFJLFFBQUosRUFBYyxNQUFkLENBQUosRUFBMkIsV0FBM0IsQ0FBQSxHQUEwQyxHQUFBLENBQUksWUFBSixFQUFrQixXQUFsQjtXQUM5QyxHQUFBLENBQUksTUFBSixFQUFZLElBQUEsQ0FBSyxDQUFMLEVBQVEsWUFBUixDQUFaO0FBSE87O0FBS1gsTUFBQSxHQUFRLFNBQUMsSUFBRCxFQUFPLElBQVA7QUFFSixRQUFBO0lBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxDQUFBO0lBQ1QsQ0FBQSxHQUFJLElBQUssQ0FBQSxDQUFBO0lBQ1QsQ0FBQSxHQUFJLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxDQUFULEVBQWEsQ0FBYjtJQUNKLENBQUEsR0FBSSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsQ0FBVCxFQUFhLENBQWI7SUFDSixDQUFBLEdBQUksR0FBQSxDQUFJLENBQUosRUFBTyxDQUFQO0lBQ0osRUFBQSxHQUFLLEdBQUEsQ0FBSSxDQUFKLEVBQU8sQ0FBUDtJQUNMLEVBQUEsR0FBSyxHQUFBLENBQUksQ0FBSixFQUFPLENBQVA7SUFDTCxFQUFBLEdBQUssR0FBQSxDQUFJLENBQUosRUFBTyxDQUFQO0lBQ0wsRUFBQSxHQUFLLEdBQUEsQ0FBSSxDQUFKLEVBQU8sQ0FBUDtJQUNMLEVBQUEsR0FBSyxHQUFBLENBQUksQ0FBSixFQUFPLENBQVA7SUFDTCxDQUFBLEdBQUksR0FBQSxDQUFJLENBQUosRUFBTyxJQUFBLENBQUssQ0FBQyxDQUFDLEVBQUQsR0FBSSxFQUFKLEdBQU8sRUFBQSxHQUFHLEVBQVgsQ0FBQSxHQUFlLENBQUMsRUFBQSxHQUFHLEVBQUgsR0FBTSxFQUFBLEdBQUcsRUFBVixDQUFwQixFQUFtQyxDQUFuQyxDQUFQO0lBQ0osQ0FBQSxHQUFJLEdBQUEsQ0FBSSxDQUFKLEVBQU8sSUFBQSxDQUFLLENBQUUsRUFBQSxHQUFHLEVBQUgsR0FBTSxFQUFBLEdBQUcsRUFBWCxDQUFBLEdBQWUsQ0FBQyxFQUFBLEdBQUcsRUFBSCxHQUFNLEVBQUEsR0FBRyxFQUFWLENBQXBCLEVBQW1DLENBQW5DLENBQVA7SUFFSixJQUFHLEdBQUEsR0FBTSxHQUFBLENBQUksR0FBQSxDQUFJLENBQUosRUFBTyxDQUFQLENBQUosQ0FBVDtRQUNJLElBQUEsQ0FBSyxlQUFMLEVBQXFCLEdBQUEsQ0FBSSxHQUFBLENBQUksQ0FBSixFQUFPLENBQVAsQ0FBSixDQUFyQixFQURKOztXQUVBLElBQUEsQ0FBSyxHQUFMLEVBQVUsR0FBQSxDQUFJLENBQUosRUFBTyxDQUFQLENBQVY7QUFqQkk7O0FBb0JSLFVBQUEsR0FBYSxTQUFDLEVBQUQsRUFBSSxFQUFKLEVBQU8sRUFBUDtXQUFjLEtBQUEsQ0FBTSxHQUFBLENBQUksRUFBSixFQUFRLEVBQVIsQ0FBTixFQUFtQixHQUFBLENBQUksRUFBSixFQUFRLEVBQVIsQ0FBbkI7QUFBZDs7QUFHYixTQUFBLEdBQVksU0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWI7QUFDUixRQUFBO0FBQUEsU0FBQSxzQ0FBQTs7QUFDSSxhQUFBLHdDQUFBOztZQUNJLElBQUcsRUFBQSxLQUFNLEVBQVQ7QUFDSSxxQkFBQSx3Q0FBQTs7b0JBQ0ksSUFBRyxFQUFBLEtBQU0sRUFBVDtBQUNJLCtCQUFPLEdBRFg7O0FBREosaUJBREo7O0FBREo7QUFESjtXQU1BO0FBUFE7O0FBU1osWUFBQSxHQUFlLFNBQUMsUUFBRDtBQUNYLFFBQUE7SUFBQSxTQUFBLEdBQVksQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUw7QUFDWixTQUFBLDBDQUFBOztRQUNJLFNBQUEsR0FBWSxHQUFBLENBQUksU0FBSixFQUFlLENBQWY7QUFEaEI7V0FFQSxJQUFBLENBQUssQ0FBQSxHQUFJLFFBQVEsQ0FBQyxNQUFsQixFQUEwQixTQUExQjtBQUpXOztBQU9mLE1BQUEsR0FBUyxTQUFDLFFBQUQ7QUFDTCxRQUFBO0lBQUEsT0FBQSxHQUFVLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMO0lBQ1YsT0FBVyxRQUFRLENBQUMsS0FBVCxDQUFlLENBQUMsQ0FBaEIsQ0FBWCxFQUFDLFlBQUQsRUFBSztBQUNMLFNBQUEsMENBQUE7O1FBQ0ksT0FBQSxHQUFVLEdBQUEsQ0FBSSxPQUFKLEVBQWEsVUFBQSxDQUFXLEVBQVgsRUFBZSxFQUFmLEVBQW1CLEVBQW5CLENBQWI7UUFDVixPQUFXLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FBWCxFQUFDLFlBQUQsRUFBSztBQUZUO1dBR0EsSUFBQSxDQUFLLE9BQUw7QUFOSzs7QUFTVCxVQUFBLEdBQWEsU0FBQyxRQUFEO0FBQ1QsUUFBQTtJQUFBLElBQUEsR0FBTztJQUNQLElBQUEsR0FBTyxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTDtJQUNQLE9BQVcsUUFBUSxDQUFDLEtBQVQsQ0FBZSxDQUFDLENBQWhCLENBQVgsRUFBQyxZQUFELEVBQUs7QUFDTCxTQUFBLDBDQUFBOztRQUNJLElBQUEsR0FBTyxHQUFBLENBQUksSUFBSixFQUFVLEtBQUEsQ0FBTSxFQUFOLEVBQVUsRUFBVixDQUFWO1FBQ1AsT0FBVyxDQUFDLEVBQUQsRUFBSyxFQUFMLENBQVgsRUFBQyxZQUFELEVBQUs7QUFGVDtXQUdBLElBQUEsR0FBTyxHQUFBLENBQUksR0FBQSxDQUFJLE1BQUEsQ0FBTyxRQUFQLENBQUosRUFBc0IsSUFBdEIsQ0FBQSxHQUE4QixHQUFsQztBQVBFOztBQVViLGFBQUEsR0FBZ0IsU0FBQyxRQUFELEVBQVcsV0FBWDtBQUVaLFFBQUE7SUFBQSxXQUFBLEdBQWM7SUFDZCxPQUFXLFFBQVEsQ0FBQyxLQUFULENBQWUsQ0FBQyxDQUFoQixDQUFYLEVBQUMsWUFBRCxFQUFLO0FBQ0wsU0FBQSwwQ0FBQTs7UUFFSSxXQUFXLENBQUMsSUFBWixDQUFpQixHQUFBLENBQUksS0FBQSxDQUFNLEdBQUEsQ0FBSSxFQUFKLEVBQVEsRUFBUixDQUFOLEVBQW1CLEdBQUEsQ0FBSSxFQUFKLEVBQVEsRUFBUixDQUFuQixDQUFKLENBQWpCO1FBQ0EsT0FBVyxDQUFDLEVBQUQsRUFBSyxFQUFMLENBQVgsRUFBQyxZQUFELEVBQUs7QUFIVDtJQU1BLFdBQVcsQ0FBQyxJQUFaLENBQWlCLFNBQUMsQ0FBRCxFQUFHLENBQUg7ZUFBUyxDQUFBLEdBQUU7SUFBWCxDQUFqQjtJQUlBLEdBQUEsR0FBTTtBQUNOLFNBQUEsK0NBQUE7O1FBQ0ksR0FBQSxJQUFPLE9BQUEsQ0FBUSxDQUFSLEVBQVcsV0FBWDtBQURYO0FBR0E7QUFBQSxTQUFBLHdDQUFBOztRQUNJLEdBQUEsSUFBTyxPQUFBLENBQVEsQ0FBUixFQUFXLFdBQVg7QUFEWDtXQUVBO0FBcEJZOztBQXVCaEIsYUFBQSxHQUFnQixTQUFDLEtBQUQ7QUFDWixRQUFBO0lBQUEsUUFBQSxHQUFXLEtBQUEsQ0FBTSxLQUFOO0lBQ1gsRUFBQSxHQUFLLEtBQU0sQ0FBQSxDQUFBO0lBQ1gsUUFBQSxHQUFXLENBQUMsQ0FBQyxHQUFGLENBQU0sU0FBQyxRQUFELEVBQVUsQ0FBVjtlQUFnQixDQUFBLEdBQUU7SUFBbEIsQ0FBTjtJQUVYLENBQUEsR0FBSSxNQUFBLENBQU8sS0FBUDtJQUNKLENBQUEsR0FBSSxJQUFBLENBQUssWUFBQSxDQUFhLEtBQWIsQ0FBTDtJQUNKLENBQUEsR0FBSSxLQUFBLENBQU0sQ0FBTixFQUFTLENBQVQ7V0FFSixRQUFRLENBQUMsR0FBVCxDQUFhLFNBQUMsQ0FBRDtlQUFPLENBQUMsR0FBQSxDQUFJLENBQUosRUFBTyxDQUFQLENBQUQsRUFBWSxHQUFBLENBQUksQ0FBSixFQUFPLENBQVAsQ0FBWjtJQUFQLENBQWI7QUFUWTs7QUFXaEIsWUFBQSxHQUFlLFNBQUMsUUFBRDtBQUVYLFFBQUE7SUFBQSxXQUFBLEdBQWMsSUFBSSxLQUFKLENBQVUsUUFBUSxDQUFDLE1BQW5CO0lBQ2QsR0FBQSxHQUFNLFFBQVEsQ0FBQztBQUNmLFNBQVMsaUZBQVQ7UUFDSSxXQUFZLENBQUEsQ0FBQSxDQUFaLEdBQWlCLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxLQUFaLENBQWtCLENBQWxCO0FBRHJCO1dBRUE7QUFOVzs7QUFRZixNQUFNLENBQUMsT0FBUCxHQUNJO0lBQUEsR0FBQSxFQUFnQixHQUFoQjtJQUNBLEdBQUEsRUFBZ0IsR0FEaEI7SUFFQSxHQUFBLEVBQWdCLEdBRmhCO0lBR0EsR0FBQSxFQUFnQixHQUhoQjtJQUlBLEdBQUEsRUFBZ0IsR0FKaEI7SUFLQSxJQUFBLEVBQWdCLElBTGhCO0lBTUEsSUFBQSxFQUFnQixJQU5oQjtJQU9BLEtBQUEsRUFBZ0IsS0FQaEI7SUFRQSxLQUFBLEVBQWdCLEtBUmhCO0lBU0EsTUFBQSxFQUFnQixNQVRoQjtJQVVBLE1BQUEsRUFBZ0IsTUFWaEI7SUFXQSxNQUFBLEVBQWdCLE1BWGhCO0lBWUEsUUFBQSxFQUFnQixRQVpoQjtJQWFBLFFBQUEsRUFBZ0IsUUFiaEI7SUFjQSxZQUFBLEVBQWdCLFlBZGhCO0lBZUEsWUFBQSxFQUFnQixZQWZoQjtJQWdCQSxVQUFBLEVBQWdCLFVBaEJoQjtJQWlCQSxRQUFBLEVBQWdCLFFBakJoQjtJQWtCQSxTQUFBLEVBQWdCLFNBbEJoQjtJQW1CQSxVQUFBLEVBQWdCLFVBbkJoQjtJQW9CQSxZQUFBLEVBQWdCLFlBcEJoQjtJQXFCQSxjQUFBLEVBQWdCLGNBckJoQjtJQXNCQSxRQUFBLEVBQWdCLFFBdEJoQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAgICAgIDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgMDAwXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDBcbjAwMDAwMDAwMCAgMDAwMDAwMDAwICAgICAwMDAgICAgIDAwMDAwMDAwMFxuMDAwIDAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDBcbiMjI1xuI1xuIyBQb2x5aMOpZHJvbmlzbWUsIENvcHlyaWdodCAyMDE5LCBBbnNlbG0gTGV2c2theWEsIE1JVCBMaWNlbnNlXG4jXG4gICAgXG57IHJhZDJkZWcsIGtsb2csIF8gfSA9IHJlcXVpcmUgJ2t4aydcbnsgcmFuZG9tLCByb3VuZCwgZmxvb3IsIHNxcnQsIHNpbiwgY29zLCB0YW4sIGFzaW4sIGFjb3MsIGF0YW4sIGFicywgcG93LCBsb2csIFBJLCBMTjEwIH0gPSBNYXRoXG5cblZlY3QgPSByZXF1aXJlICcuLi92ZWN0J1xuUXVhdCA9IHJlcXVpcmUgJy4uL3F1YXQnXG5cbnNpZ2ZpZ3MgPSAoTiwgbnNpZ3MpIC0+ICMgc3RyaW5nIHdpdGggbnNpZ3MgZGlnaXRzIGlnbm9yaW5nIG1hZ25pdHVkZVxuICAgIFxuICBtYW50aXNzYSA9IE4gLyBwb3cgMTAgZmxvb3IgbG9nKE4pL0xOMTBcbiAgdHJ1bmNhdGVkX21hbnRpc3NhID0gcm91bmQgbWFudGlzc2EgKiBwb3cgMTAgbnNpZ3MtMVxuICBcIiN7dHJ1bmNhdGVkX21hbnRpc3NhfVwiXG5cbmNsb25lID0gKG9iaikgLT4gIyBkZWVwLWNvcHlcbiAgICBcbiAgICBpZiBub3Qgb2JqIG9yIHR5cGVvZihvYmopICE9ICdvYmplY3QnXG4gICAgICAgIHJldHVybiBvYmpcbiAgICBuZXdJbnN0YW5jZSA9IG5ldyBvYmouY29uc3RydWN0b3IoKVxuICAgIGZvciBrZXkgb2Ygb2JqIFxuICAgICAgICBuZXdJbnN0YW5jZVtrZXldID0gY2xvbmUgb2JqW2tleV1cbiAgICBuZXdJbnN0YW5jZVxuXG5yYW5kb21jaG9pY2UgPSAoYXJyYXkpIC0+IGFycmF5W2Zsb29yIHJhbmRvbSgpKmFycmF5Lmxlbmd0aF1cblxubmVnICAgICAgPSAodmVjKSAtPiBbLXZlY1swXSwgLXZlY1sxXSwgLXZlY1syXV1cbm11bHQgICAgID0gKGMsIHZlYykgLT4gW2MqdmVjWzBdLCBjKnZlY1sxXSwgYyp2ZWNbMl1dXG5fbXVsdCAgICA9ICh2MSwgdjIpIC0+IFt2MVswXSp2MlswXSwgdjFbMV0qdjJbMV0sIHYxWzJdKnYyWzJdXVxuYWRkICAgICAgPSAodjEsIHYyKSAtPiBbdjFbMF0rdjJbMF0sIHYxWzFdK3YyWzFdLCB2MVsyXSt2MlsyXV1cbnN1YiAgICAgID0gKHYxLCB2MikgLT4gW3YxWzBdLXYyWzBdLCB2MVsxXS12MlsxXSwgdjFbMl0tdjJbMl1dXG5kb3QgICAgICA9ICh2MSwgdjIpIC0+ICh2MVswXSp2MlswXSkgKyAodjFbMV0qdjJbMV0pICsgKHYxWzJdKnYyWzJdKVxuY3Jvc3MgICAgPSAoZDEsIGQyKSAtPiBbKGQxWzFdKmQyWzJdKSAtIChkMVsyXSpkMlsxXSksIChkMVsyXSpkMlswXSkgLSAoZDFbMF0qZDJbMl0pLCAoZDFbMF0qZDJbMV0pIC0gKGQxWzFdKmQyWzBdKV1cbm1hZyAgICAgID0gKHZlYykgLT4gc3FydCBkb3QgdmVjLCB2ZWNcbm1hZzIgICAgID0gKHZlYykgLT4gZG90IHZlYywgdmVjXG51bml0ICAgICA9ICh2ZWMpIC0+IG11bHQgMS9zcXJ0KG1hZzIodmVjKSksIHZlY1xudHdlZW4gICAgPSAodjEsIHYyLCB0KSAtPiBbKCgxLXQpKnYxWzBdKSArICh0KnYyWzBdKSwgKCgxLXQpKnYxWzFdKSArICh0KnYyWzFdKSwgKCgxLXQpKnYxWzJdKSArICh0KnYyWzJdKV1cbm1pZHBvaW50ID0gKHYxLCB2MikgLT4gbXVsdCAwLjUsIGFkZCB2MSwgdjJcbm9uZVRoaXJkID0gKHYxLCB2MikgLT4gdHdlZW4gdjEsIHYyLCAxLzMuMFxuXG5yb3RhdGUgPSAodmVjLCBheGlzLCBhbmdsZSkgLT5cbiAgICByb3QgPSBRdWF0LmF4aXNBbmdsZSAobmV3IFZlY3QgYXhpcyksIHJhZDJkZWcgYW5nbGVcbiAgICByZXMgPSByb3Qucm90YXRlZCB2ZWNcbiAgICByZXMuY29vcmRzKClcblxucmVjaXByb2NhbCA9ICh2ZWMpIC0+IG11bHQgMS4wL21hZzIodmVjKSwgdmVjICMgcmVmbGVjdCBpbiB1bml0IHNwaGVyZVxuXG50YW5nZW50UG9pbnQgPSAodjEsIHYyKSAtPiAjIHBvaW50IHdoZXJlIGxpbmUgdjEuLi52MiB0YW5nZW50IHRvIGFuIG9yaWdpbiBzcGhlcmVcbiAgICBkID0gc3ViIHYyLCB2MVxuICAgIHN1YiB2MSwgbXVsdCBkb3QoZCwgdjEpL21hZzIoZCksIGRcblxuZWRnZURpc3QgPSAodjEsIHYyKSAtPiBzcXJ0IG1hZzIgdGFuZ2VudFBvaW50IHYxLCB2MiAjIGRpc3RhbmNlIG9mIGxpbmUgdjEuLi52MiB0byBvcmlnaW5cblxuIyBzcXVhcmUgb2YgZGlzdGFuY2UgZnJvbSBwb2ludCB2MyB0byBsaW5lIHNlZ21lbnQgdjEuLi52MlxuIyBodHRwOiNtYXRod29ybGQud29sZnJhbS5jb20vUG9pbnQtTGluZURpc3RhbmNlMy1EaW1lbnNpb25hbC5odG1sXG4jIGNhbGN1bGF0ZXMgbWluIGRpc3RhbmNlIGZyb20gcG9pbnQgdjMgdG8gZmluaXRlIGxpbmUgc2VnbWVudCBiZXR3ZWVuIHYxIGFuZCB2MlxuXG5saW5lUG9pbnREaXN0MiA9ICh2MSwgdjIsIHYzKSAtPlxuXG4gICAgZDIxID0gc3ViIHYyLCB2MVxuICAgIGQxMyA9IHN1YiB2MSwgdjNcbiAgICBkMjMgPSBzdWIgdjIsIHYzXG4gICAgbTIgPSBtYWcyIGQyMVxuICAgIHQgPSAtZG90KGQxMywgZDIxKS9tMlxuICAgIGlmIHQgPD0gMFxuICAgICAgICAjIGNsb3Nlc3QgdG8gcG9pbnQgYmV5b25kIHYxLCBjbGlwIHRvIHx2My12MXxeMlxuICAgICAgICByZXN1bHQgPSBtYWcyIGQxM1xuICAgIGVsc2UgaWYgKHQgPj0gMSkgXG4gICAgICAgICMgY2xvc2VzdCB0byBwb2ludCBiZXlvbmQgdjIsIGNsaXAgdG8gfHYzLXYyfF4yXG4gICAgICAgIHJlc3VsdCA9IG1hZzIgZDIzXG4gICAgZWxzZVxuICAgICAgICAjIGNsb3Nlc3QgaW4tYmV0d2VlbiB2MSwgdjJcbiAgICAgICAgcmVzdWx0ID0gbWFnMihjcm9zcyBkMjEsIGQxMykvbTJcbiAgICByZXN1bHRcbiAgICBcbnBvaW50UGxhbmVEaXN0ID0gKHBvcywgcGxhbmVQb3MsIHBsYW5lTm9ybWFsKSAtPlxuICAgIFxuICAgIG1hZyBzdWIgcG9zLCByYXlQbGFuZSBwb3MsIHBsYW5lTm9ybWFsLCBwbGFuZVBvcywgcGxhbmVOb3JtYWxcbiAgICBcbnJheVBsYW5lID0gKHJheVBvcywgcmF5RGlyZWN0aW9uLCBwbGFuZVBvcywgcGxhbmVOb3JtYWwpIC0+XG4gICAgXG4gICAgeCA9IGRvdChzdWIocGxhbmVQb3MsIHJheVBvcyksIHBsYW5lTm9ybWFsKSAvIGRvdChyYXlEaXJlY3Rpb24sIHBsYW5lTm9ybWFsKVxuICAgIGFkZCByYXlQb3MsIG11bHQgeCwgcmF5RGlyZWN0aW9uXG4gIFxucmF5UmF5PSAocmF5QSwgcmF5QikgLT5cblxuICAgIEEgPSByYXlBWzBdXG4gICAgQiA9IHJheUJbMF1cbiAgICBhID0gc3ViIHJheUFbMV0sIEFcbiAgICBiID0gc3ViIHJheUJbMV0sIEJcbiAgICBjID0gc3ViIEIsIEFcbiAgICBhYSA9IGRvdCBhLCBhXG4gICAgYWIgPSBkb3QgYSwgYlxuICAgIGFjID0gZG90IGEsIGNcbiAgICBiYyA9IGRvdCBiLCBjXG4gICAgYmIgPSBkb3QgYiwgYlxuICAgIEQgPSBhZGQgQSwgbXVsdCAoLWFiKmJjK2FjKmJiKS8oYWEqYmItYWIqYWIpLCBhXG4gICAgRSA9IGFkZCBCLCBtdWx0ICggYWIqYWMtYmMqYWEpLyhhYSpiYi1hYiphYiksIGJcbiAgICBcbiAgICBpZiAwLjEgPCBtYWcgc3ViIEQsIEVcbiAgICAgICAga2xvZyAnbm8gaW50ZXJzZWN0PycgbWFnIHN1YiBELCBFXG4gICAgbXVsdCAwLjUsIGFkZCBELCBFXG4gICAgXG4jIGZpbmQgdmVjdG9yIG9ydGhvZ29uYWwgdG8gcGxhbmUgb2YgMyBwdHNcbm9ydGhvZ29uYWwgPSAodjEsdjIsdjMpIC0+IGNyb3NzIHN1Yih2MiwgdjEpLCBzdWIodjMsIHYyKVxuXG4jIGZpbmQgZmlyc3QgZWxlbWVudCBjb21tb24gdG8gMyBzZXRzIGJ5IGJydXRlIGZvcmNlIHNlYXJjaFxuaW50ZXJzZWN0ID0gKHNldDEsIHNldDIsIHNldDMpIC0+XG4gICAgZm9yIHMxIGluIHNldDFcbiAgICAgICAgZm9yIHMyIGluIHNldDJcbiAgICAgICAgICAgIGlmIHMxID09IHMyXG4gICAgICAgICAgICAgICAgZm9yIHMzIGluIHNldDNcbiAgICAgICAgICAgICAgICAgICAgaWYgczEgPT0gczNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzMVxuICAgIG51bGwgIyBlbXB0eSBpbnRlcnNlY3Rpb25cblxuY2FsY0NlbnRyb2lkID0gKHZlcnRpY2VzKSAtPlxuICAgIGNlbnRyb2lkViA9IFswIDAgMF1cbiAgICBmb3IgdiBpbiB2ZXJ0aWNlc1xuICAgICAgICBjZW50cm9pZFYgPSBhZGQgY2VudHJvaWRWLCB2XG4gICAgbXVsdCAxIC8gdmVydGljZXMubGVuZ3RoLCBjZW50cm9pZFYgXG5cbiMgY2FsY3VsYXRlIGF2ZXJhZ2Ugbm9ybWFsIHZlY3RvciBmb3IgYXJyYXkgb2YgdmVydGljZXNcbm5vcm1hbCA9ICh2ZXJ0aWNlcykgLT5cbiAgICBub3JtYWxWID0gWzAgMCAwXSBcbiAgICBbdjEsIHYyXSA9IHZlcnRpY2VzLnNsaWNlIC0yXG4gICAgZm9yIHYzIGluIHZlcnRpY2VzXG4gICAgICAgIG5vcm1hbFYgPSBhZGQgbm9ybWFsViwgb3J0aG9nb25hbCB2MSwgdjIsIHYzXG4gICAgICAgIFt2MSwgdjJdID0gW3YyLCB2M11cbiAgICB1bml0IG5vcm1hbFZcblxuIyBjYWxjdWxhdGVzIGFyZWEgcGxhbmFyIGZhY2UgYnkgc3VtbWluZyBvdmVyIHN1YnRyaWFuZ2xlIGFyZWFzLCBhc3N1bWVzIHBsYW5hcml0eS5cbnBsYW5hcmFyZWEgPSAodmVydGljZXMpIC0+XG4gICAgYXJlYSA9IDAuMFxuICAgIHZzdW0gPSBbMCAwIDBdXG4gICAgW3YxLCB2Ml0gPSB2ZXJ0aWNlcy5zbGljZSgtMilcbiAgICBmb3IgdjMgaW4gdmVydGljZXNcbiAgICAgICAgdnN1bSA9IGFkZCB2c3VtLCBjcm9zcyB2MSwgdjJcbiAgICAgICAgW3YxLCB2Ml0gPSBbdjIsIHYzXVxuICAgIGFyZWEgPSBhYnMgZG90KG5vcm1hbCh2ZXJ0aWNlcyksIHZzdW0pIC8gMi4wXG5cbiMgY29uZ3J1ZW5jZSBzaWduYXR1cmUgZm9yIGFzc2lnbmluZyBzYW1lIGNvbG9ycyB0byBjb25ncnVlbnQgZmFjZXNcbmZhY2VTaWduYXR1cmUgPSAodmVydGljZXMsIHNlbnNpdGl2aXR5KSAtPlxuXG4gICAgY3Jvc3NfYXJyYXkgPSBbXVxuICAgIFt2MSwgdjJdID0gdmVydGljZXMuc2xpY2UgLTJcbiAgICBmb3IgdjMgaW4gdmVydGljZXNcbiAgICAgICAgIyBhY2N1bXVsYXRlIGlubmVyIGFuZ2xlc1xuICAgICAgICBjcm9zc19hcnJheS5wdXNoIG1hZyBjcm9zcyBzdWIodjEsIHYyKSwgc3ViKHYzLCB2MilcbiAgICAgICAgW3YxLCB2Ml0gPSBbdjIsIHYzXVxuXG4gICAgIyBzb3J0IGFuZ2xlcyB0byBjcmVhdGUgdW5pcXVlIHNlcXVlbmNlXG4gICAgY3Jvc3NfYXJyYXkuc29ydCAoYSxiKSAtPiBhLWJcbiAgXG4gICAgIyByZW5kZXIgc29ydGVkIGFuZ2xlcyBhcyBxdWFudGl6ZWQgZGlnaXQgc3RyaW5nc1xuICAgICMgdGhpcyBpcyB0aGUgY29uZ3J1ZW5jZSBzaWduYXR1cmVcbiAgICBzaWcgPSAnJ1xuICAgIGZvciB4IGluIGNyb3NzX2FycmF5IFxuICAgICAgICBzaWcgKz0gc2lnZmlncyB4LCBzZW5zaXRpdml0eVxuICAgICMgaGFjayB0byBtYWtlIHJlZmxlY3RlZCBmYWNlcyBzaGFyZSB0aGUgc2FtZSBzaWduYXR1cmVcbiAgICBmb3IgeCBpbiBjcm9zc19hcnJheS5yZXZlcnNlKCkgXG4gICAgICAgIHNpZyArPSBzaWdmaWdzIHgsIHNlbnNpdGl2aXR5XG4gICAgc2lnXG5cbiMgcHJvamVjdHMgM2QgcG9seWhlZHJhbCBmYWNlIHRvIDJkIHBvbHlnb24gZm9yIHRyaWFuZ3VsYXRpb24gYW5kIGZhY2UgZGlzcGxheVxucHJvamVjdDJkZmFjZSA9ICh2ZXJ0cykgLT5cbiAgICB0bXB2ZXJ0cyA9IGNsb25lIHZlcnRzXG4gICAgdjAgPSB2ZXJ0c1swXVxuICAgIHRtcHZlcnRzID0gXy5tYXAgKHRtcHZlcnRzLHgpIC0+IHgtdjBcbiAgXG4gICAgbiA9IG5vcm1hbCB2ZXJ0c1xuICAgIGMgPSB1bml0IGNhbGNDZW50cm9pZCB2ZXJ0cyAjWFhYOiBjb3JyZWN0P1xuICAgIHAgPSBjcm9zcyBuLCBjXG4gIFxuICAgIHRtcHZlcnRzLm1hcCAodikgLT4gW2RvdChuLCB2KSwgZG90KHAsIHYpXVxuXG5jb3B5VmVjQXJyYXkgPSAodmVjQXJyYXkpIC0+ICMgY29waWVzIGFycmF5IG9mIGFycmF5cyBieSB2YWx1ZSAoZGVlcCBjb3B5KVxuICAgIFxuICAgIG5ld1ZlY0FycmF5ID0gbmV3IEFycmF5IHZlY0FycmF5Lmxlbmd0aFxuICAgIGVuZCA9IHZlY0FycmF5Lmxlbmd0aFxuICAgIGZvciBpIGluIFswLi4uZW5kXVxuICAgICAgICBuZXdWZWNBcnJheVtpXSA9IHZlY0FycmF5W2ldLnNsaWNlIDBcbiAgICBuZXdWZWNBcnJheVxuXG5tb2R1bGUuZXhwb3J0cyA9XG4gICAgYWRkOiAgICAgICAgICAgIGFkZFxuICAgIHN1YjogICAgICAgICAgICBzdWJcbiAgICBkb3Q6ICAgICAgICAgICAgZG90XG4gICAgbWFnOiAgICAgICAgICAgIG1hZ1xuICAgIG5lZzogICAgICAgICAgICBuZWdcbiAgICBtdWx0OiAgICAgICAgICAgbXVsdFxuICAgIHVuaXQ6ICAgICAgICAgICB1bml0XG4gICAgY3Jvc3M6ICAgICAgICAgIGNyb3NzXG4gICAgdHdlZW46ICAgICAgICAgIHR3ZWVuXG4gICAgbm9ybWFsOiAgICAgICAgIG5vcm1hbFxuICAgIHJvdGF0ZTogICAgICAgICByb3RhdGVcbiAgICByYXlSYXk6ICAgICAgICAgcmF5UmF5XG4gICAgb25lVGhpcmQ6ICAgICAgIG9uZVRoaXJkXG4gICAgbWlkcG9pbnQ6ICAgICAgIG1pZHBvaW50XG4gICAgY2FsY0NlbnRyb2lkOiAgIGNhbGNDZW50cm9pZFxuICAgIGNvcHlWZWNBcnJheTogICBjb3B5VmVjQXJyYXlcbiAgICByZWNpcHJvY2FsOiAgICAgcmVjaXByb2NhbFxuICAgIGVkZ2VEaXN0OiAgICAgICBlZGdlRGlzdFxuICAgIGludGVyc2VjdDogICAgICBpbnRlcnNlY3RcbiAgICBvcnRob2dvbmFsOiAgICAgb3J0aG9nb25hbFxuICAgIHRhbmdlbnRQb2ludDogICB0YW5nZW50UG9pbnRcbiAgICBwb2ludFBsYW5lRGlzdDogcG9pbnRQbGFuZURpc3RcbiAgICByYXlQbGFuZTogICAgICAgcmF5UGxhbmVcbiAgICAiXX0=
//# sourceURL=../../coffee/poly/math.coffee