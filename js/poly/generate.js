// koffee 1.6.0

/*
 0000000   00000000  000   000  00000000  00000000    0000000   000000000  00000000  
000        000       0000  000  000       000   000  000   000     000     000       
000  0000  0000000   000 0 000  0000000   0000000    000000000     000     0000000   
000   000  000       000  0000  000       000   000  000   000     000     000       
 0000000   00000000  000   000  00000000  000   000  000   000     000     00000000
 */
var PEG, alias, basemap, generate, klog, opmap, parser, poly, recenter, ref, replacements, rescale, topo;

klog = require('kxk').klog;

ref = require('./math'), recenter = ref.recenter, rescale = ref.rescale;

poly = require('./poly');

topo = require('./topo');

PEG = require('pegjs');

parser = PEG.generate("start  = opspec+\n\nopspec \n    = lettr:opcode args:opargs {return {\"op\":lettr,\"args\":args};}\n    / lettr:opcode float:float {return {\"op\":lettr,\"args\":[float]};}\n    / lettr:opcode             {return {\"op\":lettr,\"args\":[]};}\n\nopargs = \"(\"\n         num:( float:float \",\"? {return float} )+\n         \")\" {return num;}\n\nopcode = op:[a-zA-Z] {return op;}\n\nint   = digits:[0-9-]+   { return parseInt(digits.join(\"\"), 10); }\nfloat = digits:[0-9.-]+  { return parseFloat(digits.join(\"\"), 10); }");

basemap = {
    T: poly.tetrahedron,
    C: poly.cube,
    O: poly.octahedron,
    D: poly.dodecahedron,
    I: poly.icosahedron,
    P: poly.prism,
    A: poly.antiprism,
    Y: poly.pyramid,
    U: poly.cupola,
    V: poly.anticupola
};

opmap = {
    d: topo.dual,
    a: topo.ambo,
    k: topo.kis,
    t: topo.truncate,
    c: topo.chamfer,
    g: topo.gyro,
    w: topo.whirl,
    n: topo.inset,
    x: topo.extrude,
    p: topo.perspectiva,
    q: topo.quinto,
    u: topo.trisub,
    h: topo.hollow,
    f: topo.flatten,
    v: topo.canonicalize,
    z: topo.zirkularize,
    r: topo.sphericalize,
    e: topo.expand
};

replacements = [[/b/g, 'ta'], [/o/g, 'jj'], [/m/g, 'kj'], [/j/g, 'da'], [/s/g, 'dg'], [/dd/g, ''], [/ad/g, 'a'], [/gd/g, 'g'], [/aO/g, 'aC'], [/aI/g, 'aD'], [/gO/g, 'gC'], [/gI/g, 'gD']];

alias = {
    'rhombicosidodecahedron': 'e1D'
};

generate = function(notation, normalize) {
    var baseargs, basefunc, dispatch, equiv, expanded, i, j, len, len1, op, opargs, opfunc, oplist, orig, ref1;
    if (normalize == null) {
        normalize = true;
    }
    dispatch = function(fn, arg) {
        return fn.apply(fn, arg || []);
    };
    expanded = notation;
    for (i = 0, len = replacements.length; i < len; i++) {
        ref1 = replacements[i], orig = ref1[0], equiv = ref1[1];
        expanded = expanded.replace(orig, equiv);
    }
    oplist = parser.parse(expanded).reverse();
    op = oplist.shift();
    basefunc = basemap[op['op']];
    baseargs = op['args'];
    poly = dispatch(basefunc, baseargs);
    for (j = 0, len1 = oplist.length; j < len1; j++) {
        op = oplist[j];
        opfunc = opmap[op['op']];
        opargs = [poly].concat(op['args']);
        poly = dispatch(opfunc, opargs);
    }
    if (normalize) {
        poly.vertices = recenter(poly.vertices, poly.edges());
        poly.vertices = rescale(poly.vertices);
    }
    poly.vertex = poly.vertices;
    poly.face = poly.faces;
    return poly;
};

generate.alias = alias;

module.exports = generate;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGUuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBOztBQVVFLE9BQVMsT0FBQSxDQUFRLEtBQVI7O0FBQ1gsTUFBd0IsT0FBQSxDQUFRLFFBQVIsQ0FBeEIsRUFBRSx1QkFBRixFQUFZOztBQUVaLElBQUEsR0FBTyxPQUFBLENBQVEsUUFBUjs7QUFDUCxJQUFBLEdBQU8sT0FBQSxDQUFRLFFBQVI7O0FBQ1AsR0FBQSxHQUFPLE9BQUEsQ0FBUSxPQUFSOztBQUVQLE1BQUEsR0FBUyxHQUFHLENBQUMsUUFBSixDQUFhLDZnQkFBYjs7QUFrQlQsT0FBQSxHQUNJO0lBQUEsQ0FBQSxFQUFHLElBQUksQ0FBQyxXQUFSO0lBQ0EsQ0FBQSxFQUFHLElBQUksQ0FBQyxJQURSO0lBRUEsQ0FBQSxFQUFHLElBQUksQ0FBQyxVQUZSO0lBR0EsQ0FBQSxFQUFHLElBQUksQ0FBQyxZQUhSO0lBSUEsQ0FBQSxFQUFHLElBQUksQ0FBQyxXQUpSO0lBS0EsQ0FBQSxFQUFHLElBQUksQ0FBQyxLQUxSO0lBTUEsQ0FBQSxFQUFHLElBQUksQ0FBQyxTQU5SO0lBT0EsQ0FBQSxFQUFHLElBQUksQ0FBQyxPQVBSO0lBUUEsQ0FBQSxFQUFHLElBQUksQ0FBQyxNQVJSO0lBU0EsQ0FBQSxFQUFHLElBQUksQ0FBQyxVQVRSOzs7QUFXSixLQUFBLEdBQ0k7SUFBQSxDQUFBLEVBQUcsSUFBSSxDQUFDLElBQVI7SUFDQSxDQUFBLEVBQUcsSUFBSSxDQUFDLElBRFI7SUFFQSxDQUFBLEVBQUcsSUFBSSxDQUFDLEdBRlI7SUFHQSxDQUFBLEVBQUcsSUFBSSxDQUFDLFFBSFI7SUFJQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE9BSlI7SUFLQSxDQUFBLEVBQUcsSUFBSSxDQUFDLElBTFI7SUFNQSxDQUFBLEVBQUcsSUFBSSxDQUFDLEtBTlI7SUFPQSxDQUFBLEVBQUcsSUFBSSxDQUFDLEtBUFI7SUFRQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE9BUlI7SUFTQSxDQUFBLEVBQUcsSUFBSSxDQUFDLFdBVFI7SUFVQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE1BVlI7SUFXQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE1BWFI7SUFZQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE1BWlI7SUFhQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE9BYlI7SUFjQSxDQUFBLEVBQUcsSUFBSSxDQUFDLFlBZFI7SUFlQSxDQUFBLEVBQUcsSUFBSSxDQUFDLFdBZlI7SUFnQkEsQ0FBQSxFQUFHLElBQUksQ0FBQyxZQWhCUjtJQWlCQSxDQUFBLEVBQUcsSUFBSSxDQUFDLE1BakJSOzs7QUFtQkosWUFBQSxHQUFlLENBQ1gsQ0FBQyxJQUFELEVBQVksSUFBWixDQURXLEVBRVgsQ0FBQyxJQUFELEVBQVksSUFBWixDQUZXLEVBR1gsQ0FBQyxJQUFELEVBQVksSUFBWixDQUhXLEVBSVgsQ0FBQyxJQUFELEVBQVksSUFBWixDQUpXLEVBS1gsQ0FBQyxJQUFELEVBQVksSUFBWixDQUxXLEVBTVgsQ0FBQyxLQUFELEVBQVksRUFBWixDQU5XLEVBT1gsQ0FBQyxLQUFELEVBQVksR0FBWixDQVBXLEVBUVgsQ0FBQyxLQUFELEVBQVksR0FBWixDQVJXLEVBU1gsQ0FBQyxLQUFELEVBQVksSUFBWixDQVRXLEVBVVgsQ0FBQyxLQUFELEVBQVksSUFBWixDQVZXLEVBV1gsQ0FBQyxLQUFELEVBQVksSUFBWixDQVhXLEVBWVgsQ0FBQyxLQUFELEVBQVksSUFBWixDQVpXOztBQWVmLEtBQUEsR0FzQkk7SUFBQSx3QkFBQSxFQUFnQyxLQUFoQzs7O0FBeUJKLFFBQUEsR0FBVyxTQUFDLFFBQUQsRUFBVyxTQUFYO0FBRVAsUUFBQTs7UUFGa0IsWUFBVTs7SUFFNUIsUUFBQSxHQUFXLFNBQUMsRUFBRCxFQUFLLEdBQUw7ZUFBYSxFQUFFLENBQUMsS0FBSCxDQUFTLEVBQVQsRUFBYSxHQUFBLElBQU8sRUFBcEI7SUFBYjtJQUVYLFFBQUEsR0FBVztBQUNYLFNBQUEsOENBQUE7Z0NBQUssZ0JBQUs7UUFDTixRQUFBLEdBQVcsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsSUFBakIsRUFBdUIsS0FBdkI7QUFEZjtJQUdBLE1BQUEsR0FBUyxNQUFNLENBQUMsS0FBUCxDQUFhLFFBQWIsQ0FBc0IsQ0FBQyxPQUF2QixDQUFBO0lBRVQsRUFBQSxHQUFLLE1BQU0sQ0FBQyxLQUFQLENBQUE7SUFDTCxRQUFBLEdBQVcsT0FBUSxDQUFBLEVBQUcsQ0FBQSxJQUFBLENBQUg7SUFDbkIsUUFBQSxHQUFXLEVBQUcsQ0FBQSxNQUFBO0lBQ2QsSUFBQSxHQUFPLFFBQUEsQ0FBUyxRQUFULEVBQW1CLFFBQW5CO0FBRVAsU0FBQSwwQ0FBQTs7UUFDSSxNQUFBLEdBQVMsS0FBTSxDQUFBLEVBQUcsQ0FBQSxJQUFBLENBQUg7UUFDZixNQUFBLEdBQVMsQ0FBQyxJQUFELENBQU0sQ0FBQyxNQUFQLENBQWMsRUFBRyxDQUFBLE1BQUEsQ0FBakI7UUFDVCxJQUFBLEdBQVMsUUFBQSxDQUFTLE1BQVQsRUFBaUIsTUFBakI7QUFIYjtJQUtBLElBQUcsU0FBSDtRQUNJLElBQUksQ0FBQyxRQUFMLEdBQWdCLFFBQUEsQ0FBUyxJQUFJLENBQUMsUUFBZCxFQUF3QixJQUFJLENBQUMsS0FBTCxDQUFBLENBQXhCO1FBQ2hCLElBQUksQ0FBQyxRQUFMLEdBQWdCLE9BQUEsQ0FBUyxJQUFJLENBQUMsUUFBZCxFQUZwQjs7SUFJQSxJQUFJLENBQUMsTUFBTCxHQUFjLElBQUksQ0FBQztJQUNuQixJQUFJLENBQUMsSUFBTCxHQUFjLElBQUksQ0FBQztXQUNuQjtBQTFCTzs7QUE0QlgsUUFBUSxDQUFDLEtBQVQsR0FBaUI7O0FBRWpCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4gMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgXG4wMDAgICAgICAgIDAwMCAgICAgICAwMDAwICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4wMDAgIDAwMDAgIDAwMDAwMDAgICAwMDAgMCAwMDAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwICAgXG4wMDAgICAwMDAgIDAwMCAgICAgICAwMDAgIDAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4gMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAwMDAwMCAgXG4jIyNcblxuIyBQb2x5aMOpZHJvbmlzbWUsIENvcHlyaWdodCAyMDE5LCBBbnNlbG0gTGV2c2theWEsIE1JVCBMaWNlbnNlXG4gICAgXG57IGtsb2cgfSA9IHJlcXVpcmUgJ2t4aydcbnsgcmVjZW50ZXIsIHJlc2NhbGUgfSA9IHJlcXVpcmUgJy4vbWF0aCdcblxucG9seSA9IHJlcXVpcmUgJy4vcG9seSdcbnRvcG8gPSByZXF1aXJlICcuL3RvcG8nXG5QRUcgID0gcmVxdWlyZSAncGVnanMnXG4gICAgXG5wYXJzZXIgPSBQRUcuZ2VuZXJhdGUgXCJcIlwiXG4gICAgc3RhcnQgID0gb3BzcGVjK1xuICAgIFxuICAgIG9wc3BlYyBcbiAgICAgICAgPSBsZXR0cjpvcGNvZGUgYXJnczpvcGFyZ3Mge3JldHVybiB7XCJvcFwiOmxldHRyLFwiYXJnc1wiOmFyZ3N9O31cbiAgICAgICAgLyBsZXR0cjpvcGNvZGUgZmxvYXQ6ZmxvYXQge3JldHVybiB7XCJvcFwiOmxldHRyLFwiYXJnc1wiOltmbG9hdF19O31cbiAgICAgICAgLyBsZXR0cjpvcGNvZGUgICAgICAgICAgICAge3JldHVybiB7XCJvcFwiOmxldHRyLFwiYXJnc1wiOltdfTt9XG4gICAgXG4gICAgb3BhcmdzID0gXCIoXCJcbiAgICAgICAgICAgICBudW06KCBmbG9hdDpmbG9hdCBcIixcIj8ge3JldHVybiBmbG9hdH0gKStcbiAgICAgICAgICAgICBcIilcIiB7cmV0dXJuIG51bTt9XG4gICAgXG4gICAgb3Bjb2RlID0gb3A6W2EtekEtWl0ge3JldHVybiBvcDt9XG4gICAgXG4gICAgaW50ICAgPSBkaWdpdHM6WzAtOS1dKyAgIHsgcmV0dXJuIHBhcnNlSW50KGRpZ2l0cy5qb2luKFwiXCIpLCAxMCk7IH1cbiAgICBmbG9hdCA9IGRpZ2l0czpbMC05Li1dKyAgeyByZXR1cm4gcGFyc2VGbG9hdChkaWdpdHMuam9pbihcIlwiKSwgMTApOyB9XG4gICAgXCJcIlwiXG5cbmJhc2VtYXAgPSBcbiAgICBUOiBwb2x5LnRldHJhaGVkcm9uXG4gICAgQzogcG9seS5jdWJlXG4gICAgTzogcG9seS5vY3RhaGVkcm9uXG4gICAgRDogcG9seS5kb2RlY2FoZWRyb25cbiAgICBJOiBwb2x5Lmljb3NhaGVkcm9uXG4gICAgUDogcG9seS5wcmlzbSAgICAgICMgblxuICAgIEE6IHBvbHkuYW50aXByaXNtICAjIG5cbiAgICBZOiBwb2x5LnB5cmFtaWQgICAgIyBuXG4gICAgVTogcG9seS5jdXBvbGEgICAgICMgblxuICAgIFY6IHBvbHkuYW50aWN1cG9sYSAjIG5cbiAgICAgICAgXG5vcG1hcCA9XG4gICAgZDogdG9wby5kdWFsXG4gICAgYTogdG9wby5hbWJvXG4gICAgazogdG9wby5raXNcbiAgICB0OiB0b3BvLnRydW5jYXRlXG4gICAgYzogdG9wby5jaGFtZmVyXG4gICAgZzogdG9wby5neXJvXG4gICAgdzogdG9wby53aGlybFxuICAgIG46IHRvcG8uaW5zZXRcbiAgICB4OiB0b3BvLmV4dHJ1ZGVcbiAgICBwOiB0b3BvLnBlcnNwZWN0aXZhXG4gICAgcTogdG9wby5xdWludG9cbiAgICB1OiB0b3BvLnRyaXN1YlxuICAgIGg6IHRvcG8uaG9sbG93XG4gICAgZjogdG9wby5mbGF0dGVuXG4gICAgdjogdG9wby5jYW5vbmljYWxpemVcbiAgICB6OiB0b3BvLnppcmt1bGFyaXplXG4gICAgcjogdG9wby5zcGhlcmljYWxpemVcbiAgICBlOiB0b3BvLmV4cGFuZFxuXG5yZXBsYWNlbWVudHMgPSBbXG4gICAgWy9iL2csICAgICAgJ3RhJ10gICAgIyBiICAgIC0+IHRhICAgYmV2ZWxcbiAgICBbL28vZywgICAgICAnamonXSAgICAjIG8gICAgLT4gamogICBvcnRob1xuICAgIFsvbS9nLCAgICAgICdraiddICAgICMgbSAgICAtPiBraiAgIG1ldGFcbiAgICBbL2ovZywgICAgICAnZGEnXSAgICAjIGogICAgLT4gZGFcbiAgICBbL3MvZywgICAgICAnZGcnXSAgICAjIHMgICAgLT4gZGdcbiAgICBbL2RkL2csICAgICAnJ10gICAgICAjIGRkICAgLT4gXG4gICAgWy9hZC9nLCAgICAgJ2EnXSAgICAgIyBhZCAgIC0+IGEgICBcbiAgICBbL2dkL2csICAgICAnZyddICAgICAjIGdkICAgLT4gZyAgIFxuICAgIFsvYU8vZywgICAgICdhQyddICAgICMgYU8gICAtPiBhQyAgXG4gICAgWy9hSS9nLCAgICAgJ2FEJ10gICAgIyBhSSAgIC0+IGFEICBcbiAgICBbL2dPL2csICAgICAnZ0MnXSAgICAjIGdPICAgLT4gZ0MgIFxuICAgIFsvZ0kvZywgICAgICdnRCddICAgICMgZ0kgICAtPiBnRCAgXG5dXG5cbmFsaWFzID0gXG4gICAgIyBwbGF0b25pYyBzb2xpZHNcbiAgICAjY3ViZTogICAgICAgICAgICAgICAgICAgICAgICAgICAnQydcbiAgICAjdGV0cmFoZWRyb246ICAgICAgICAgICAgICAgICAgICAnVCdcbiAgICAjb2N0YWhlZHJvbjogICAgICAgICAgICAgICAgICAgICAnTydcbiAgICAjZG9kZWNhaGVkcm9uOiAgICAgICAgICAgICAgICAgICAnRCdcbiAgICAjaWNvc2FoZWRyb246ICAgICAgICAgICAgICAgICAgICAnSSdcbiAgICAjIGFyY2hpbWVkaWFuIHNvbGlkc1xuICAgICMgJ3RydW5jYXRlZCB0ZXRyYWhlZHJvbic6ICAgICAgICAndFQnXG4gICAgIyAndHJ1bmNhdGVkIGN1YmUnOiAgICAgICAgICAgICAgICd0QydcbiAgICAjICd0cnVuY2F0ZWQgb2N0YWhlZHJvbic6ICAgICAgICAgJ3RPJ1xuICAgICMgJ3RydW5jYXRlZCBkb2RlY2FoZWRyb24nOiAgICAgICAndEQnXG4gICAgIyAndHJ1bmNhdGVkIGljb3NhaGVkcm9uJzogICAgICAgICd0SSdcbiAgICAjICd0cnVuY2F0ZWQgY3Vib2N0YWhlZHJvbic6ICAgICAgJ2RtRCdcbiAgICAjICd0cnVuY2F0ZWQgaWNvc2lkb2RlY2FoZWRyb24nOiAgJ3pkbUMnICNcbiAgICAjICdjdWJvY3RhaGVkcm9uJzogICAgICAgICAgICAgICAgJ2RqQycgI1xuICAgICMgJ2ljb3NpZG9kZWNhaGVkcm9uJzogICAgICAgICAgICAnZGpEJyAjXG4gICAgIyAncmhvbWJpY3Vib2N0YWhlZHJvbic6ICAgICAgICAgICdkb0MnXG4gICAgIyAncmhvbWJpY29zaWRvZGVjYWhlZHJvbjEnOiAgICAgICdhRCcgXG4gICAgIyAncmhvbWJpY29zaWRvZGVjYWhlZHJvbjMnOiAgICAgICd2ZGFEJ1xuICAgICMgJ3Job21iaWNvc2lkb2RlY2FoZWRyb240JzogICAgICAnYXZkYUQnXG4gICAgIyAncmhvbWJpY29zaWRvZGVjYWhlZHJvbjUnOiAgICAgICdhZGFEJyAjJ2RvRCdcbiAgICAncmhvbWJpY29zaWRvZGVjYWhlZHJvbic6ICAgICAgICdlMUQnXG4gICAgIyAnc251YiBjdWJlJzogICAgICAgICAgICAgICAgICAgICdkZ0MnICNcbiAgICAjICdzbnViIGRvZGVjYWhlZHJvbic6ICAgICAgICAgICAgJ2RnRCcgI1xuXG4gICAgIyBjYXRhbGFuIHNvbGlkc1xuICAgICMgJ3RyaWFraXMgdGV0cmFoZWRyb24nOiAgICAgICAgICAndmR0VCcgIyAna1QnIFxuICAgICMgJ3RyaWFraXMgb2N0YWhlZHJvbic6ICAgICAgICAgICAndmR0QycgIyAna08nIFxuICAgICMgJ3RldHJha2lzIGhleGFoZWRyb24nOiAgICAgICAgICAncmR0TycgIyAna0MnIFxuICAgICMgJ3RyaWFraXMgaWNvc2FoZWRyb24nOiAgICAgICAgICAndmR0RCcgIyAna0knIFxuICAgICMgJ3BlbnRha2lzIGRvZGVjYWhlZHJvbic6ICAgICAgICAncmtEJyAjICdrLjI1MTVEJyBcbiAgICAjICdkaXNkeWFraXMgdHJpYWNvbnRhaGVkcm9uJzogICAgJ3JtRCcgI1xuICAgICMgJ2Rpc2R5YWtpcyBkb2RlY2FoZWRyb24nOiAgICAgICAndm1DJyAjXG4gICAgIyAncmhvbWJpYyBkb2RlY2FoZWRyb24nOiAgICAgICAgICd2akMnICNcbiAgICAjICdyaG9tYmljIHRyaWFjb250YWhlZHJvbic6ICAgICAgJ3ZqRCcgI1xuICAgICMgJ2RlbHRvaWRhbCBpY29zaXRldHJhaGVkcm9uJzogICAndm9DJyAjXG4gICAgIyAnZGVsdG9pZGFsIGhleGVjb250YWhlZHJvbic6ICAgICdvRCcgICNcbiAgICAjICdwZW50YWdvbmFsIGljb3NpdGV0cmFoZWRyb24nOiAgJ2dDJyAgI1xuICAgICMgJ3BlbnRhZ29uYWwgaGV4ZWNvbnRhaGVkcm9uJzogICAnZ0QnICAjXG4gICAgXG4jICAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMDAwMDAwXG4jIDAwMCAgICAgICAgMDAwICAgICAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgXG4jIDAwMCAgMDAwMCAgMDAwMDAwMCAgIDAwMCAwIDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMDAwICAgICAwMDAgICAgIDAwMDAwMDAgXG4jIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgXG4jICAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAwXG5cbmdlbmVyYXRlID0gKG5vdGF0aW9uLCBub3JtYWxpemU9dHJ1ZSkgLT5cbiAgXG4gICAgZGlzcGF0Y2ggPSAoZm4sIGFyZykgLT4gZm4uYXBwbHkgZm4sIGFyZyBvciBbXVxuICAgIFxuICAgIGV4cGFuZGVkID0gbm90YXRpb25cbiAgICBmb3IgW29yaWcsZXF1aXZdIGluIHJlcGxhY2VtZW50c1xuICAgICAgICBleHBhbmRlZCA9IGV4cGFuZGVkLnJlcGxhY2Ugb3JpZywgZXF1aXZcbiAgICBcbiAgICBvcGxpc3QgPSBwYXJzZXIucGFyc2UoZXhwYW5kZWQpLnJldmVyc2UoKVxuICBcbiAgICBvcCA9IG9wbGlzdC5zaGlmdCgpXG4gICAgYmFzZWZ1bmMgPSBiYXNlbWFwW29wWydvcCddXVxuICAgIGJhc2VhcmdzID0gb3BbJ2FyZ3MnXVxuICAgIHBvbHkgPSBkaXNwYXRjaCBiYXNlZnVuYywgYmFzZWFyZ3NcbiAgXG4gICAgZm9yIG9wIGluIG9wbGlzdFxuICAgICAgICBvcGZ1bmMgPSBvcG1hcFtvcFsnb3AnXV1cbiAgICAgICAgb3BhcmdzID0gW3BvbHldLmNvbmNhdCBvcFsnYXJncyddXG4gICAgICAgIHBvbHkgICA9IGRpc3BhdGNoIG9wZnVuYywgb3BhcmdzXG5cbiAgICBpZiBub3JtYWxpemVcbiAgICAgICAgcG9seS52ZXJ0aWNlcyA9IHJlY2VudGVyIHBvbHkudmVydGljZXMsIHBvbHkuZWRnZXMoKVxuICAgICAgICBwb2x5LnZlcnRpY2VzID0gcmVzY2FsZSAgcG9seS52ZXJ0aWNlc1xuICBcbiAgICBwb2x5LnZlcnRleCA9IHBvbHkudmVydGljZXNcbiAgICBwb2x5LmZhY2UgICA9IHBvbHkuZmFjZXNcbiAgICBwb2x5ICMuY29sb3JpemUoKVxuXG5nZW5lcmF0ZS5hbGlhcyA9IGFsaWFzXG4gICAgXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlXG4iXX0=
//# sourceURL=../../coffee/poly/generate.coffee