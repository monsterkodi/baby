// koffee 1.6.0

/*
00000000    0000000   000      000   000  000   000  00000000  0000000    00000000    0000000   000   000  
000   000  000   000  000       000 000   000   000  000       000   000  000   000  000   000  0000  000  
00000000   000   000  000        00000    000000000  0000000   000   000  0000000    000   000  000 0 000  
000        000   000  000         000     000   000  000       000   000  000   000  000   000  000  0000  
000         0000000   0000000     000     000   000  00000000  0000000    000   000   0000000   000   000
 */
var Polyhedron, Vect, _, add, mag, min, mult, normal, ref,
    indexOf = [].indexOf;

_ = require('kxk')._;

ref = require('./math'), add = ref.add, mag = ref.mag, mult = ref.mult, normal = ref.normal;

min = Math.min;

Vect = require('../vect');

Polyhedron = (function() {
    function Polyhedron(name, faces, vertices) {
        this.name = name;
        this.faces = faces;
        this.vertices = vertices;
        if (this.faces != null) {
            this.faces;
        } else {
            this.faces = [];
        }
        if (this.vertices != null) {
            this.vertices;
        } else {
            this.vertices = [];
        }
        if (this.name != null) {
            this.name;
        } else {
            this.name = "polyhedron";
        }
    }

    Polyhedron.prototype.neighbors = function() {
        var face, i, j, k, len, neighbors, ni, perp, ref1, ref2, ref3, ref4, ref5, toN0, toVertex, v, vi;
        neighbors = (function() {
            var i, len, ref1, results;
            ref1 = this.vertices;
            results = [];
            for (i = 0, len = ref1.length; i < len; i++) {
                v = ref1[i];
                results.push([]);
            }
            return results;
        }).call(this);
        ref1 = this.faces;
        for (i = 0, len = ref1.length; i < len; i++) {
            face = ref1[i];
            for (vi = j = 0, ref2 = face.length; 0 <= ref2 ? j < ref2 : j > ref2; vi = 0 <= ref2 ? ++j : --j) {
                ni = (vi + 1) % face.length;
                if (ref3 = face[ni], indexOf.call(neighbors[face[vi]], ref3) < 0) {
                    neighbors[face[vi]].push(face[ni]);
                }
                if (ref4 = face[vi], indexOf.call(neighbors[face[ni]], ref4) < 0) {
                    neighbors[face[ni]].push(face[vi]);
                }
            }
        }
        for (vi = k = 0, ref5 = neighbors.length; 0 <= ref5 ? k < ref5 : k > ref5; vi = 0 <= ref5 ? ++k : --k) {
            toVertex = this.vert(vi);
            toVertex.normalize();
            toN0 = this.vert(neighbors[vi][0]);
            perp = toVertex.crossed(toN0);
            neighbors[vi].sort((function(_this) {
                return function(a, b) {
                    var aa, bb;
                    aa = Vect.GetAngleBetweenVectors(perp, _this.vert(a), toVertex);
                    bb = Vect.GetAngleBetweenVectors(perp, _this.vert(b), toVertex);
                    return aa - bb;
                };
            })(this));
        }
        return neighbors;
    };

    Polyhedron.prototype.wings = function() {
        var edge, edges, epool, fi, i, j, nvert, oi, other, pvert, ref1, ref2, wings;
        nvert = {};
        pvert = {};
        epool = [];
        for (fi = i = 0, ref1 = this.faces.length; 0 <= ref1 ? i < ref1 : i > ref1; fi = 0 <= ref1 ? ++i : --i) {
            edges = this.faceToEdges(this.faces[fi]);
            edges.forEach(function(edge) {
                if (nvert[fi] != null) {
                    nvert[fi];
                } else {
                    nvert[fi] = {};
                }
                if (pvert[fi] != null) {
                    pvert[fi];
                } else {
                    pvert[fi] = {};
                }
                nvert[fi][edge[0]] = edge[1];
                pvert[fi][edge[1]] = edge[0];
                return edge.push({
                    fr: fi
                });
            });
            epool = epool.concat(edges);
        }
        wings = [];
        while (epool.length) {
            edge = epool.shift();
            edge[2].nr = nvert[edge[2].fr][edge[1]];
            edge[2].pr = pvert[edge[2].fr][edge[0]];
            for (oi = j = 0, ref2 = epool.length; 0 <= ref2 ? j < ref2 : j > ref2; oi = 0 <= ref2 ? ++j : --j) {
                other = epool[oi];
                if (other[0] === edge[1] && other[1] === edge[0]) {
                    edge[2].fl = other[2].fr;
                    edge[2].nl = pvert[edge[2].fl][edge[1]];
                    edge[2].pl = nvert[edge[2].fl][edge[0]];
                    epool.splice(oi, 1);
                    break;
                }
            }
            wings.push(edge);
        }
        return wings;
    };

    Polyhedron.prototype.faceToEdges = function(face) {
        var edges, i, len, v1, v2;
        edges = [];
        v1 = face.slice(-1)[0];
        for (i = 0, len = face.length; i < len; i++) {
            v2 = face[i];
            edges.push([v1, v2]);
            v1 = v2;
        }
        return edges;
    };

    Polyhedron.prototype.edges = function() {
        var a, b, e, edgeSet, faceEdges, i, j, len, len1, uniqEdges;
        uniqEdges = {};
        faceEdges = this.faces.map(this.faceToEdges);
        for (i = 0, len = faceEdges.length; i < len; i++) {
            edgeSet = faceEdges[i];
            for (j = 0, len1 = edgeSet.length; j < len1; j++) {
                e = edgeSet[j];
                if (e[0] < e[1]) {
                    a = e[0], b = e[1];
                } else {
                    b = e[0], a = e[1];
                }
                uniqEdges[a + "~" + b] = e;
            }
        }
        return _.values(uniqEdges);
    };

    Polyhedron.prototype.edge = function(v1, v2) {
        return this.vert(v2).subtract(this.vert(v1));
    };

    Polyhedron.prototype.edgeNormal = function(v1, v2) {
        return this.vertNormal(v1).add(this.vertNormal(v2)).scale(0.5);
    };

    Polyhedron.prototype.minEdgeLength = function() {
        var edge, i, len, minEdgeLength, ref1;
        minEdgeLength = 2e308;
        ref1 = this.edges();
        for (i = 0, len = ref1.length; i < len; i++) {
            edge = ref1[i];
            minEdgeLength = min(minEdgeLength, this.vert(edge[0]).dist(this.vert(edge[1])));
        }
        return minEdgeLength;
    };

    Polyhedron.prototype.vert = function(vi) {
        return new Vect(this.vertices[vi]);
    };

    Polyhedron.prototype.vertNormal = function(vi) {
        var i, len, ni, ref1, sum;
        sum = new Vector3(0, 0, 0);
        ref1 = this.neighbors(vi);
        for (i = 0, len = ref1.length; i < len; i++) {
            ni = ref1[i];
            sum.addInPlace(this.edge(vi, ni));
        }
        sum.normalize();
        return sum;
    };

    Polyhedron.prototype.centers = function() {
        var centersArray, face, fcenter, i, j, len, len1, ref1, vidx;
        centersArray = [];
        ref1 = this.faces;
        for (i = 0, len = ref1.length; i < len; i++) {
            face = ref1[i];
            fcenter = [0, 0, 0];
            for (j = 0, len1 = face.length; j < len1; j++) {
                vidx = face[j];
                fcenter = add(fcenter, this.vertices[vidx]);
            }
            centersArray.push(mult(1.0 / face.length, fcenter));
        }
        return centersArray;
    };

    Polyhedron.prototype.minFaceDist = function() {
        var center, i, len, minFaceDist, ref1;
        minFaceDist = 2e308;
        ref1 = this.centers();
        for (i = 0, len = ref1.length; i < len; i++) {
            center = ref1[i];
            minFaceDist = min(minFaceDist, mag(center));
        }
        return minFaceDist;
    };

    Polyhedron.prototype.normals = function() {
        var face, i, len, normalsArray, ref1;
        normalsArray = [];
        ref1 = this.faces;
        for (i = 0, len = ref1.length; i < len; i++) {
            face = ref1[i];
            normalsArray.push(normal(face.map((function(_this) {
                return function(vidx) {
                    return _this.vertices[vidx];
                };
            })(this))));
        }
        return normalsArray;
    };

    Polyhedron.prototype.data = function() {
        var nEdges;
        nEdges = (this.faces.length + this.vertices.length) - 2;
        return this.faces.length + " faces, " + nEdges + " edges, " + this.vertices.length + " vertices";
    };

    Polyhedron.prototype.colorize = function(method) {
        var clr, colorassign, colormemory, f, face_verts, i, len, ref1;
        if (method == null) {
            method = 'sidedness';
        }
        this.colors = [];
        colormemory = {};
        colorassign = function(hash) {
            return colormemory[hash] != null ? colormemory[hash] : colormemory[hash] = _.size(colormemory);
        };
        ref1 = this.faces;
        for (i = 0, len = ref1.length; i < len; i++) {
            f = ref1[i];
            switch (method) {
                case 'area':
                    face_verts = f.map((function(_this) {
                        return function(v) {
                            return _this.vertices[v];
                        };
                    })(this));
                    clr = colorassign(sigfigs(planararea(face_verts), 2));
                    break;
                case 'signature':
                    face_verts = f.map((function(_this) {
                        return function(v) {
                            return _this.vertices[v];
                        };
                    })(this));
                    clr = colorassign(faceSignature(face_verts, 2));
                    break;
                default:
                    clr = f.length - 3;
            }
            this.colors.push(clr);
        }
        return this;
    };

    return Polyhedron;

})();

module.exports = Polyhedron;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9seWhlZHJvbi5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUEscURBQUE7SUFBQTs7QUFVRSxJQUFNLE9BQUEsQ0FBUSxLQUFSOztBQUNSLE1BQTZCLE9BQUEsQ0FBUSxRQUFSLENBQTdCLEVBQUUsYUFBRixFQUFPLGFBQVAsRUFBWSxlQUFaLEVBQWtCOztBQUNoQixNQUFROztBQUNWLElBQUEsR0FBTyxPQUFBLENBQVEsU0FBUjs7QUFFRDtJQUVDLG9CQUFDLElBQUQsRUFBUSxLQUFSLEVBQWdCLFFBQWhCO1FBQUMsSUFBQyxDQUFBLE9BQUQ7UUFBTyxJQUFDLENBQUEsUUFBRDtRQUFRLElBQUMsQ0FBQSxXQUFEOztZQUVmLElBQUMsQ0FBQTs7WUFBRCxJQUFDLENBQUEsUUFBWTs7O1lBQ2IsSUFBQyxDQUFBOztZQUFELElBQUMsQ0FBQSxXQUFZOzs7WUFDYixJQUFDLENBQUE7O1lBQUQsSUFBQyxDQUFBLE9BQVk7O0lBSmQ7O3lCQVlILFNBQUEsR0FBVyxTQUFBO0FBRVAsWUFBQTtRQUFBLFNBQUE7O0FBQWE7QUFBQTtpQkFBQSxzQ0FBQTs7NkJBQUE7QUFBQTs7O0FBQ2I7QUFBQSxhQUFBLHNDQUFBOztBQUNJLGlCQUFVLDJGQUFWO2dCQUNJLEVBQUEsR0FBSyxDQUFDLEVBQUEsR0FBRyxDQUFKLENBQUEsR0FBUyxJQUFJLENBQUM7Z0JBQ25CLFdBQUcsSUFBSyxDQUFBLEVBQUEsQ0FBTCxFQUFBLGFBQWdCLFNBQVUsQ0FBQSxJQUFLLENBQUEsRUFBQSxDQUFMLENBQTFCLEVBQUEsSUFBQSxLQUFIO29CQUNJLFNBQVUsQ0FBQSxJQUFLLENBQUEsRUFBQSxDQUFMLENBQVMsQ0FBQyxJQUFwQixDQUF5QixJQUFLLENBQUEsRUFBQSxDQUE5QixFQURKOztnQkFFQSxXQUFHLElBQUssQ0FBQSxFQUFBLENBQUwsRUFBQSxhQUFnQixTQUFVLENBQUEsSUFBSyxDQUFB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LENBQUEsSUFBQSxJQUFTLENBQUMsQ0FBQyxJQUFGLENBQU8sV0FBUDtRQUEvQjtBQUVkO0FBQUEsYUFBQSxzQ0FBQTs7QUFDSSxvQkFBTyxNQUFQO0FBQUEscUJBQ1MsTUFEVDtvQkFFUSxVQUFBLEdBQWEsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFBLFNBQUEsS0FBQTsrQkFBQSxTQUFDLENBQUQ7bUNBQU8sS0FBQyxDQUFBLFFBQVMsQ0FBQSxDQUFBO3dCQUFqQjtvQkFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQU47b0JBQ2IsR0FBQSxHQUFNLFdBQUEsQ0FBWSxPQUFBLENBQVEsVUFBQSxDQUFXLFVBQVgsQ0FBUixFQUFnQyxDQUFoQyxDQUFaO0FBRkw7QUFEVCxxQkFJUyxXQUpUO29CQUtRLFVBQUEsR0FBYSxDQUFDLENBQUMsR0FBRixDQUFNLENBQUEsU0FBQSxLQUFBOytCQUFBLFNBQUMsQ0FBRDttQ0FBTyxLQUFDLENBQUEsUUFBUyxDQUFBLENBQUE7d0JBQWpCO29CQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBTjtvQkFDYixHQUFBLEdBQU0sV0FBQSxDQUFZLGFBQUEsQ0FBYyxVQUFkLEVBQTBCLENBQTFCLENBQVo7QUFGTDtBQUpUO29CQVFRLEdBQUEsR0FBTSxDQUFDLENBQUMsTUFBRixHQUFXO0FBUnpCO1lBU0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLENBQWEsR0FBYjtBQVZKO2VBYUE7SUFuQk07Ozs7OztBQXFCZCxNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwIDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgXG4wMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAwMCAgICAwMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAgMCAwMDAgIFxuMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICBcbjAwMCAgICAgICAgIDAwMDAwMDAgICAwMDAwMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAgICAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgXG4jIyNcblxuIyBQb2x5aMOpZHJvbmlzbWUsIENvcHlyaWdodCAyMDE5LCBBbnNlbG0gTGV2c2theWEsIE1JVCBMaWNlbnNlXG5cbnsgXyB9ID0gcmVxdWlyZSAna3hrJ1xueyBhZGQsIG1hZywgbXVsdCwgbm9ybWFsIH0gPSByZXF1aXJlICcuL21hdGgnXG57IG1pbiB9ID0gTWF0aFxuVmVjdCA9IHJlcXVpcmUgJy4uL3ZlY3QnXG5cbmNsYXNzIFBvbHloZWRyb24gXG5cbiAgICBAOiAoQG5hbWUsIEBmYWNlcywgQHZlcnRpY2VzKSAtPlxuXG4gICAgICAgIEBmYWNlcyAgICA/PSBbXVxuICAgICAgICBAdmVydGljZXMgPz0gW10gXG4gICAgICAgIEBuYW1lICAgICA/PSBcInBvbHloZWRyb25cIlxuXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwICAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAgMDAwMDAwMCAgXG4gICAgIyAwMDAwICAwMDAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgXG4gICAgIyAwMDAgMCAwMDAgIDAwMDAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwICAgXG4gICAgIyAwMDAgIDAwMDAgIDAwMCAgICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwICAgXG4gICAgXG4gICAgbmVpZ2hib3JzOiAtPlxuXG4gICAgICAgIG5laWdoYm9ycyA9IChbXSBmb3IgdiBpbiBAdmVydGljZXMpXG4gICAgICAgIGZvciBmYWNlIGluIEBmYWNlc1xuICAgICAgICAgICAgZm9yIHZpIGluIFswLi4uZmFjZS5sZW5ndGhdXG4gICAgICAgICAgICAgICAgbmkgPSAodmkrMSkgJSBmYWNlLmxlbmd0aFxuICAgICAgICAgICAgICAgIGlmIGZhY2VbbmldIG5vdCBpbiBuZWlnaGJvcnNbZmFjZVt2aV1dXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm9yc1tmYWNlW3ZpXV0ucHVzaCBmYWNlW25pXVxuICAgICAgICAgICAgICAgIGlmIGZhY2VbdmldIG5vdCBpbiBuZWlnaGJvcnNbZmFjZVtuaV1dXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm9yc1tmYWNlW25pXV0ucHVzaCBmYWNlW3ZpXSAgICAgICAgICBcbiAgICAgICAgICAgICAgXG4gICAgICAgIGZvciB2aSBpbiBbMC4uLm5laWdoYm9ycy5sZW5ndGhdXG4gICAgICAgICAgICB0b1ZlcnRleCA9IEB2ZXJ0IHZpXG4gICAgICAgICAgICB0b1ZlcnRleC5ub3JtYWxpemUoKVxuICAgICAgICAgICAgdG9OMCA9IEB2ZXJ0IG5laWdoYm9yc1t2aV1bMF1cbiAgICAgICAgICAgIHBlcnAgPSB0b1ZlcnRleC5jcm9zc2VkIHRvTjBcbiAgICAgICAgICAgIG5laWdoYm9yc1t2aV0uc29ydCAoYSxiKSA9PlxuICAgICAgICAgICAgICAgIGFhID0gVmVjdC5HZXRBbmdsZUJldHdlZW5WZWN0b3JzIHBlcnAsIEB2ZXJ0KGEpLCB0b1ZlcnRleFxuICAgICAgICAgICAgICAgIGJiID0gVmVjdC5HZXRBbmdsZUJldHdlZW5WZWN0b3JzIHBlcnAsIEB2ZXJ0KGIpLCB0b1ZlcnRleFxuICAgICAgICAgICAgICAgIGFhIC0gYmJcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIG5laWdoYm9yc1xuICAgICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgIFxuICAgICMgMDAwIDAgMDAwICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAwMDAwMDAgIDAwMCAgMDAwIDAgMDAwICAwMDAgIDAwMDAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAwMDAgIDAwMDAgIDAwMCAgIDAwMCAgICAgICAwMDAgIFxuICAgICMgMDAgICAgIDAwICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgXG4gICAgXG4gICAgd2luZ3M6IC0+XG4gICAgICAgIFxuICAgICAgICBudmVydCA9IHt9XG4gICAgICAgIHB2ZXJ0ID0ge31cbiAgICAgICAgZXBvb2wgPSBbXVxuICAgICAgICBmb3IgZmkgaW4gWzAuLi5AZmFjZXMubGVuZ3RoXVxuICAgICAgICAgICAgZWRnZXMgPSBAZmFjZVRvRWRnZXMgQGZhY2VzW2ZpXVxuICAgICAgICAgICAgZWRnZXMuZm9yRWFjaCAoZWRnZSkgLT4gXG4gICAgICAgICAgICAgICAgbnZlcnRbZmldID89IHt9XG4gICAgICAgICAgICAgICAgcHZlcnRbZmldID89IHt9XG4gICAgICAgICAgICAgICAgbnZlcnRbZmldW2VkZ2VbMF1dID0gZWRnZVsxXVxuICAgICAgICAgICAgICAgIHB2ZXJ0W2ZpXVtlZGdlWzFdXSA9IGVkZ2VbMF1cbiAgICAgICAgICAgICAgICBlZGdlLnB1c2ggZnI6ZmlcbiAgICAgICAgICAgIGVwb29sID0gZXBvb2wuY29uY2F0IGVkZ2VzXG4gICAgICAgICAgICBcbiAgICAgICAgd2luZ3MgPSBbXVxuICAgICAgICBcbiAgICAgICAgd2hpbGUgZXBvb2wubGVuZ3RoXG4gICAgICAgICAgICBlZGdlID0gZXBvb2wuc2hpZnQoKVxuICAgICAgICAgICAgZWRnZVsyXS5uciA9IG52ZXJ0W2VkZ2VbMl0uZnJdW2VkZ2VbMV1dXG4gICAgICAgICAgICBlZGdlWzJdLnByID0gcHZlcnRbZWRnZVsyXS5mcl1bZWRnZVswXV1cbiAgICAgICAgICAgIGZvciBvaSBpbiBbMC4uLmVwb29sLmxlbmd0aF1cbiAgICAgICAgICAgICAgICBvdGhlciA9IGVwb29sW29pXVxuICAgICAgICAgICAgICAgIGlmIG90aGVyWzBdID09IGVkZ2VbMV0gYW5kIG90aGVyWzFdID09IGVkZ2VbMF1cbiAgICAgICAgICAgICAgICAgICAgZWRnZVsyXS5mbCA9IG90aGVyWzJdLmZyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VbMl0ubmwgPSBwdmVydFtlZGdlWzJdLmZsXVtlZGdlWzFdXVxuICAgICAgICAgICAgICAgICAgICBlZGdlWzJdLnBsID0gbnZlcnRbZWRnZVsyXS5mbF1bZWRnZVswXV1cbiAgICAgICAgICAgICAgICAgICAgZXBvb2wuc3BsaWNlIG9pLCAxXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHdpbmdzLnB1c2ggZWRnZVxuICAgIFxuICAgICAgICB3aW5nc1xuICAgICAgICBcbiAgICBmYWNlVG9FZGdlczogKGZhY2UpIC0+IFxuICAgICAgICAjIGFycmF5IG9mIGVkZ2VzIFt2MSx2Ml0gZm9yIGZhY2VcbiAgICAgICAgZWRnZXMgPSBbXVxuICAgICAgICB2MSA9IGZhY2VbLTFdXG4gICAgICAgIGZvciB2MiBpbiBmYWNlXG4gICAgICAgICAgICBlZGdlcy5wdXNoIFt2MSwgdjJdXG4gICAgICAgICAgICB2MSA9IHYyXG4gICAgICAgIGVkZ2VzXG4gICAgICAgIFxuICAgICMgMDAwMDAwMDAgIDAwMDAwMDAgICAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAwMDAwICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgICAgICAwMDAgIFxuICAgICMgMDAwMDAwMDAgIDAwMDAwMDAgICAgIDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwMDAwMCAgIFxuICAgIFxuICAgIGVkZ2VzOiAtPlxuICAgICAgICBcbiAgICAgICAgdW5pcUVkZ2VzID0ge31cbiAgICAgICAgZmFjZUVkZ2VzID0gQGZhY2VzLm1hcCBAZmFjZVRvRWRnZXNcbiAgICAgICAgZm9yIGVkZ2VTZXQgaW4gZmFjZUVkZ2VzXG4gICAgICAgICAgICBmb3IgZSBpbiBlZGdlU2V0XG4gICAgICAgICAgICAgICAgaWYgZVswXTxlWzFdIHRoZW4gW2EsIGJdID0gZVxuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgIFtiLCBhXSA9IGVcbiAgICAgICAgICAgICAgICB1bmlxRWRnZXNbXCIje2F9fiN7Yn1cIl0gPSBlXG4gICAgICAgIF8udmFsdWVzIHVuaXFFZGdlc1xuICAgICAgXG4gICAgZWRnZTogKHYxLCB2MikgLT5cbiAgICAgICAgXG4gICAgICAgIEB2ZXJ0KHYyKS5zdWJ0cmFjdCBAdmVydCh2MSlcbiAgICBcbiAgICBlZGdlTm9ybWFsOiAodjEsIHYyKSAtPlxuICAgICAgICBcbiAgICAgICAgQHZlcnROb3JtYWwodjEpLmFkZChAdmVydE5vcm1hbCh2MikpLnNjYWxlKDAuNSlcbiAgICAgICAgXG4gICAgbWluRWRnZUxlbmd0aDogLT5cbiAgICAgICAgXG4gICAgICAgIG1pbkVkZ2VMZW5ndGggPSBJbmZpbml0eVxuICAgICAgICBcbiAgICAgICAgZm9yIGVkZ2UgaW4gQGVkZ2VzKClcbiAgICAgICAgICAgIG1pbkVkZ2VMZW5ndGggPSBtaW4gbWluRWRnZUxlbmd0aCwgQHZlcnQoZWRnZVswXSkuZGlzdCBAdmVydCBlZGdlWzFdXG4gICAgICAgICAgICBcbiAgICAgICAgbWluRWRnZUxlbmd0aFxuICAgICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgIDAwMCAwMDAgICBcbiAgICAjICAwMDAgMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgICAgMDAwICAgICAwMDAwMDAwICAgICAwMDAwMCAgICBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgIDAwMCAwMDAgICBcbiAgICAjICAgICAwICAgICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICBcbiAgICB2ZXJ0OiAodmkpIC0+IFxuICAgIFxuICAgICAgICBuZXcgVmVjdCBAdmVydGljZXNbdmldXG4gICAgICAgICAgICAgICAgXG4gICAgdmVydE5vcm1hbDogKHZpKSAtPlxuICAgICAgICAgXG4gICAgICAgIHN1bSA9IG5ldyBWZWN0b3IzIDAgMCAwXG4gICAgICAgIGZvciBuaSBpbiBAbmVpZ2hib3JzKHZpKVxuICAgICAgICAgICAgc3VtLmFkZEluUGxhY2UgQGVkZ2UgdmksIG5pXG4gICAgICAgIHN1bS5ub3JtYWxpemUoKVxuICAgICAgICBzdW1cbiAgICAgICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwICAwMDAwMDAwMCAgICAwMDAwMDAwICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAgICAgMDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiAgICAjIDAwMCAgICAgICAwMDAwMDAwICAgMDAwIDAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAwMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgICAgMDAwICBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICBcbiAgICBcbiAgICBjZW50ZXJzOiAtPiBcbiAgICAgICAgY2VudGVyc0FycmF5ID0gW11cbiAgICAgICAgZm9yIGZhY2UgaW4gQGZhY2VzXG4gICAgICAgICAgICBmY2VudGVyID0gWzAgMCAwXVxuICAgICAgICAgICAgZm9yIHZpZHggaW4gZmFjZVxuICAgICAgICAgICAgICAgIGZjZW50ZXIgPSBhZGQgZmNlbnRlciwgQHZlcnRpY2VzW3ZpZHhdXG4gICAgICAgICAgICBjZW50ZXJzQXJyYXkucHVzaCBtdWx0IDEuMC9mYWNlLmxlbmd0aCwgZmNlbnRlclxuICAgICAgICBjZW50ZXJzQXJyYXlcbiAgICAgICAgXG4gICAgbWluRmFjZURpc3Q6IC0+XG4gICAgICAgIFxuICAgICAgICBtaW5GYWNlRGlzdCA9IEluZmluaXR5XG4gICAgICAgIFxuICAgICAgICBmb3IgY2VudGVyIGluIEBjZW50ZXJzKClcbiAgICAgICAgICAgIG1pbkZhY2VEaXN0ID0gbWluIG1pbkZhY2VEaXN0LCBtYWcgY2VudGVyXG4gICAgICAgICAgICBcbiAgICAgICAgbWluRmFjZURpc3RcbiAgXG4gICAgIyAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwICAgICAgIDAwMDAwMDAgIFxuICAgICMgMDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgICBcbiAgICAjIDAwMCAwIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMDAwMDAwMCAgMDAwMDAwMDAwICAwMDAgICAgICAwMDAwMDAwICAgXG4gICAgIyAwMDAgIDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAgICAwMDAgIFxuICAgICMgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAgICBcbiAgICBcbiAgICBub3JtYWxzOiAtPiBcbiAgICAgICAgbm9ybWFsc0FycmF5ID0gW11cbiAgICAgICAgZm9yIGZhY2UgaW4gQGZhY2VzXG4gICAgICAgICAgICBub3JtYWxzQXJyYXkucHVzaCBub3JtYWwgZmFjZS5tYXAgKHZpZHgpID0+IEB2ZXJ0aWNlc1t2aWR4XVxuICAgICAgICBub3JtYWxzQXJyYXlcbiAgXG4gICAgZGF0YTogLT5cbiAgICAgICAgbkVkZ2VzID0gKEBmYWNlcy5sZW5ndGggKyBAdmVydGljZXMubGVuZ3RoKSAtIDI7ICMgRSA9IFYgKyBGIC0gMlxuICAgICAgICBcIiN7QGZhY2VzLmxlbmd0aH0gZmFjZXMsICN7bkVkZ2VzfSBlZGdlcywgI3tAdmVydGljZXMubGVuZ3RofSB2ZXJ0aWNlc1wiXG4gICAgICAgIFxuICAgIGNvbG9yaXplOiAobWV0aG9kPSdzaWRlZG5lc3MnKSAtPiAjIGFzc2lnbiBjb2xvciBpbmRpY2VzIHRvIGZhY2VzXG4gICAgICAgIFxuICAgICAgICBAY29sb3JzID0gW11cbiAgICAgICAgY29sb3JtZW1vcnkgPSB7fVxuICAgICAgICBjb2xvcmFzc2lnbiA9IChoYXNoKSAtPiBjb2xvcm1lbW9yeVtoYXNoXSA/PSBfLnNpemUgY29sb3JtZW1vcnlcbiAgICAgIFxuICAgICAgICBmb3IgZiBpbiBAZmFjZXNcbiAgICAgICAgICAgIHN3aXRjaCBtZXRob2RcbiAgICAgICAgICAgICAgICB3aGVuICdhcmVhJyAjIGNvbG9yIGJ5IGZhY2UgcGxhbmFyIGFyZWEgYXNzdW1pbmcgZmxhdG5lc3NcbiAgICAgICAgICAgICAgICAgICAgZmFjZV92ZXJ0cyA9IGYubWFwICh2KSA9PiBAdmVydGljZXNbdl1cbiAgICAgICAgICAgICAgICAgICAgY2xyID0gY29sb3Jhc3NpZ24gc2lnZmlncyBwbGFuYXJhcmVhKGZhY2VfdmVydHMpLCAyXG4gICAgICAgICAgICAgICAgd2hlbiAnc2lnbmF0dXJlJyAjIGNvbG9yIGJ5IGNvbmdydWVuY2Ugc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgICAgIGZhY2VfdmVydHMgPSBmLm1hcCAodikgPT4gQHZlcnRpY2VzW3ZdXG4gICAgICAgICAgICAgICAgICAgIGNsciA9IGNvbG9yYXNzaWduIGZhY2VTaWduYXR1cmUgZmFjZV92ZXJ0cywgMlxuICAgICAgICAgICAgICAgIGVsc2UgIyBjb2xvciBieSBmYWNlLXNpZGVkbmVzc1xuICAgICAgICAgICAgICAgICAgICBjbHIgPSBmLmxlbmd0aCAtIDNcbiAgICAgICAgICAgIEBjb2xvcnMucHVzaCBjbHJcbiAgICBcbiAgICAgICAgIyBrbG9nIFwiI3tfLnNpemUoY29sb3JtZW1vcnkpKzF9IGNvbG9yczpcIiBAY29sb3JzXG4gICAgICAgIEBcblxubW9kdWxlLmV4cG9ydHMgPSBQb2x5aGVkcm9uXG4gICAgIl19
//# sourceURL=../../coffee/poly/polyhedron.coffee