// koffee 1.6.0

/*
 0000000  000   000   0000000   0000000    00000000  00000000   
000       000   000  000   000  000   000  000       000   000  
0000000   000000000  000000000  000   000  0000000   0000000    
     000  000   000  000   000  000   000  000       000   000  
0000000   000   000  000   000  0000000    00000000  000   000
 */
var Effect, Engine, Mesh, MeshBuilder, RawTexture, RenderTargetTexture, Shader, ShaderMaterial, Texture, Vector2, Vector3, Vector4, klog, performance, ref, ref1, slash,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ref = require('babylonjs'), Effect = ref.Effect, Engine = ref.Engine, Mesh = ref.Mesh, MeshBuilder = ref.MeshBuilder, RawTexture = ref.RawTexture, RenderTargetTexture = ref.RenderTargetTexture, ShaderMaterial = ref.ShaderMaterial, Texture = ref.Texture, Vector2 = ref.Vector2, Vector3 = ref.Vector3, Vector4 = ref.Vector4;

performance = require('perf_hooks').performance;

ref1 = require('kxk'), klog = ref1.klog, slash = ref1.slash;

Shader = (function() {
    function Shader(world) {
        var buffer, bufferSource, fragSource;
        this.world = world;
        this.materialData = bind(this.materialData, this);
        this.scene = this.world.scene;
        this.bufferSize = {
            width: 256,
            height: 256
        };
        this.frameRates = [];
        klog("buffers " + this.world.canvas.width + "x" + this.world.canvas.height);
        buffer = new Uint8Array(4 * this.world.canvas.width * this.world.canvas.height);
        this.textures = {
            keys: RawTexture.CreateRTexture(this.world.keys, 256, 3, this.scene, false),
            buffer: new RawTexture(buffer, this.bufferSize.width, this.bufferSize.height, Engine.TEXTUREFORMAT_RGBA, this.scene, false),
            font: new Texture(__dirname + "/../img/font.png", this.scene)
        };
        this.iFrame = 0;
        this.vertexShader = "precision highp float; attribute vec3 position; attribute vec2 uv; uniform mat4 worldViewProjection;\nvoid main(void) { gl_Position = worldViewProjection * vec4(position, 1.0); }";
        fragSource = slash.readText(__dirname + "/../shader/follow.frag");
        bufferSource = slash.readText(__dirname + "/../shader/buffer.frag");
        this.commonSource = slash.readText(__dirname + "/../shader/common.frag");
        Effect.ShadersStore.mainVertexShader = this.vertexShader;
        Effect.ShadersStore.mainFragmentShader = this.shaderCode(fragSource);
        Effect.ShadersStore.bufferVertexShader = this.vertexShader;
        Effect.ShadersStore.bufferFragmentShader = this.shaderCode(bufferSource);
        this.shaderStart = performance.now();
        this.bufferMaterial = this.shaderMaterial('buffer');
        this.shaderMaterial = this.shaderMaterial('main');
        this.plane2 = MeshBuilder.CreatePlane("plane2", {
            width: 10,
            height: 10
        }, this.scene);
        this.plane2.material = this.bufferMaterial;
        this.plane2.billboardMode = Mesh.BILLBOARDMODE_ALL;
        this.plane = MeshBuilder.CreatePlane("plane", {
            width: 10,
            height: 10
        }, this.scene);
        this.plane.material = this.shaderMaterial;
        this.plane.billboardMode = Mesh.BILLBOARDMODE_ALL;
        this.shaderMaterial.onCompiled = (function(_this) {
            return function() {
                _this.compileTime = parseInt(performance.now() - _this.shaderStart);
                return klog("shader compileTime " + (_this.compileTime / 1000) + "s");
            };
        })(this);
        this.bufferMaterial.onCompiled = (function(_this) {
            return function() {
                var compileTime;
                compileTime = parseInt(performance.now() - _this.shaderStart);
                return klog("buffer compileTime " + (compileTime / 1000) + "s");
            };
        })(this);
        this.renderTarget = new RenderTargetTexture("buf", this.bufferSize, this.scene, false);
        this.renderTarget.renderList.push(this.plane2);
        this.scene.customRenderTargets.push(this.renderTarget);
        this.renderTarget.onBeforeRender = (function(_this) {
            return function() {
                _this.plane2.position.copyFrom(_this.world.camera.position.add(_this.world.camera.getDir().scale(2)));
                return _this.materialData(_this.bufferMaterial);
            };
        })(this);
        this.scene.onBeforeRenderObservable.add((function(_this) {
            return function() {
                var j, len, r, ref2, ref3, ref4, ref5, ref6, ref7, ref8;
                _this.textures.keys.update(_this.world.keys);
                _this.iResolution = new Vector3(_this.world.canvas.width, _this.world.canvas.height, 1);
                _this.iDelta = new Vector2(_this.world.camera.mouseDelta.x, _this.world.camera.mouseDelta.y);
                _this.iMouse = new Vector4(_this.world.camera.mouseX * ((ref2 = window.devicePixelRatio) != null ? ref2 : 0), _this.iResolution.y - (_this.world.camera.mouseY * ((ref3 = window.devicePixelRatio) != null ? ref3 : _this.iResolution.y)), (_this.world.camera.downButtons && 1 || -1) * ((ref4 = _this.world.camera.downPos) != null ? ref4.x : void 0) * ((ref5 = window.devicePixelRatio) != null ? ref5 : 0), (_this.world.camera.downButtons && 1 || -1) * (_this.iResolution.y - (((ref6 = _this.world.camera.downPos) != null ? ref6.y : void 0) * ((ref7 = window.devicePixelRatio) != null ? ref7 : _this.iResolution.y))));
                _this.iCenter = new Vector3(_this.world.camera.center.x, _this.world.camera.center.y, _this.world.camera.center.z);
                _this.iCamera = new Vector3(_this.world.camera.position.x, _this.world.camera.position.y, _this.world.camera.position.z);
                _this.iTime = performance.now() / 1000;
                _this.iTimeDelta = _this.world.engine.getDeltaTime() / 1000;
                _this.frameRates.push(_this.world.engine.getFps());
                if (_this.frameRates.length > 30) {
                    _this.frameRates.shift();
                }
                _this.fps = 0;
                ref8 = _this.frameRates;
                for (j = 0, len = ref8.length; j < len; j++) {
                    r = ref8[j];
                    _this.fps += r;
                }
                return _this.fps /= _this.frameRates.length;
            };
        })(this));
        this.scene.onAfterRenderTargetsRenderObservable.add((function(_this) {
            return function() {
                return _this.textures.buffer.update(_this.renderTarget.readPixels());
            };
        })(this));
        this.scene.onAfterRenderObservable.add((function(_this) {
            return function() {
                var i, j, results;
                _this.iFrame++;
                results = [];
                for (i = j = 256; j < 512; i = ++j) {
                    results.push(_this.world.keys[i] = 0);
                }
                return results;
            };
        })(this));
    }

    Shader.prototype.render = function() {
        this.plane.position.copyFrom(this.world.camera.position.add(this.world.camera.getDir().scale(1.5)));
        return this.materialData(this.shaderMaterial);
    };

    Shader.prototype.materialData = function(m) {
        m.setTexture('iChannel0', this.textures.keys);
        m.setTexture('iChannel1', this.textures.buffer);
        m.setTexture('iChannel2', this.textures.font);
        m.setInt('iFrame', this.iFrame);
        m.setFloat('iCompile', this.compileTime / 1000);
        m.setFloat('iTime', this.iTime);
        m.setFloat('iTimeDelta', this.iTimeDelta);
        m.setVector2('iDelta', this.iDelta);
        m.setVector4('iMouse', this.iMouse);
        m.setVector3('iResolution', this.iResolution);
        m.setVector3('iCenter', this.iCenter);
        m.setVector3('iCamera', this.iCamera);
        m.setFloat('iDist', this.world.camera.dist);
        m.setFloat('iMinDist', this.world.camera.minDist);
        m.setFloat('iMaxDist', this.world.camera.maxDist);
        m.setFloat('iRotate', this.world.camera.rotate);
        m.setFloat('iDegree', this.world.camera.degree);
        m.setFloat('iFrameRate', Math.round(this.fps));
        return m.setFloat('iMs', this.world.engine.getDeltaTime());
    };

    Shader.prototype.shaderMaterial = function(key) {
        return new ShaderMaterial(key + "Shader", this.scene, {
            vertex: key,
            fragment: key
        }, {
            attributes: ['position', 'normal', 'uv'],
            uniforms: ['worldViewProjection', 'iCamera', 'iCenter', 'iDist', 'iMaxDist', 'iMinDist', 'iFrameRate', 'iMs', 'iFrame', 'iDelta', 'iTime', 'iTimeDelta', 'iMouse', 'iResolution', 'iRotate', 'iDegree', 'iCompile']
        });
    };

    Shader.prototype.shaderCode = function(fragSource) {
        return "precision highp float;\nuniform float     iTime;\nuniform float     iTimeDelta;\nuniform float     iFrameRate;\nuniform float     iMs;\nuniform float     iCompile;\nuniform float     iDist;\nuniform float     iMinDist;\nuniform float     iMaxDist;\nuniform float     iRotate;\nuniform float     iDegree;\nuniform vec2      iDelta;\nuniform vec4      iMouse;\nuniform vec3      iResolution;\nuniform vec3      iCenter;\nuniform vec3      iCamera;\nuniform int       iFrame;\nuniform sampler2D iChannel0;\nuniform sampler2D iChannel1;\nuniform sampler2D iChannel2;\n\n" + this.commonSource + "\n" + fragSource + "\n                        \nvoid main(void) \n{\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n}";
    };

    return Shader;

})();

module.exports = Shader;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhZGVyLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQSxtS0FBQTtJQUFBOztBQVFBLE1BQTZILE9BQUEsQ0FBUSxXQUFSLENBQTdILEVBQUUsbUJBQUYsRUFBVSxtQkFBVixFQUFrQixlQUFsQixFQUF3Qiw2QkFBeEIsRUFBcUMsMkJBQXJDLEVBQWlELDZDQUFqRCxFQUFzRSxtQ0FBdEUsRUFBc0YscUJBQXRGLEVBQStGLHFCQUEvRixFQUF3RyxxQkFBeEcsRUFBaUg7O0FBQy9HLGNBQWdCLE9BQUEsQ0FBUSxZQUFSOztBQUNsQixPQUFrQixPQUFBLENBQVEsS0FBUixDQUFsQixFQUFFLGdCQUFGLEVBQVE7O0FBRUY7SUFFQyxnQkFBQyxLQUFEO0FBRUMsWUFBQTtRQUZBLElBQUMsQ0FBQSxRQUFEOztRQUVBLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLEtBQUssQ0FBQztRQUNoQixJQUFDLENBQUEsVUFBRCxHQUFjO1lBQUEsS0FBQSxFQUFNLEdBQU47WUFBVyxNQUFBLEVBQU8sR0FBbEI7O1FBQ2QsSUFBQyxDQUFBLFVBQUQsR0FBYztRQUVkLElBQUEsQ0FBSyxVQUFBLEdBQVcsSUFBQyxDQUFBLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBekIsR0FBK0IsR0FBL0IsR0FBa0MsSUFBQyxDQUFBLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBckQ7UUFFQSxNQUFBLEdBQVMsSUFBSSxVQUFKLENBQWUsQ0FBQSxHQUFFLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQWhCLEdBQXNCLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQW5EO1FBRVQsSUFBQyxDQUFBLFFBQUQsR0FDSTtZQUFBLElBQUEsRUFBUSxVQUFVLENBQUMsY0FBWCxDQUEwQixJQUFDLENBQUEsS0FBSyxDQUFDLElBQWpDLEVBQXVDLEdBQXZDLEVBQTRDLENBQTVDLEVB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RUFBWSxDQUNSLHFCQURRLEVBRVIsU0FGUSxFQUVFLFNBRkYsRUFFWSxPQUZaLEVBRW9CLFVBRnBCLEVBRStCLFVBRi9CLEVBR1IsWUFIUSxFQUdLLEtBSEwsRUFHVyxRQUhYLEVBSVIsUUFKUSxFQUlDLE9BSkQsRUFJUyxZQUpULEVBS1IsUUFMUSxFQUtDLGFBTEQsRUFNUixTQU5RLEVBTUUsU0FORixFQU9SLFVBUFEsQ0FEWjtTQUpSO0lBRlk7O3FCQWlCaEIsVUFBQSxHQUFZLFNBQUMsVUFBRDtlQUNSLHdqQkFBQSxHQXNCTSxJQUFDLENBQUEsWUF0QlAsR0FzQm9CLElBdEJwQixHQXVCTSxVQXZCTixHQXVCaUI7SUF4QlQ7Ozs7OztBQWdDaEIsTUFBTSxDQUFDLE9BQVAsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbiAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwMCAgMDAwMDAwMDAgICBcbjAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICBcbjAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgMDAwMDAwMCAgICBcbiAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICBcbjAwMDAwMDAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwMCAgMDAwICAgMDAwICBcbiMjI1xuXG57IEVmZmVjdCwgRW5naW5lLCBNZXNoLCBNZXNoQnVpbGRlciwgUmF3VGV4dHVyZSwgUmVuZGVyVGFyZ2V0VGV4dHVyZSwgU2hhZGVyTWF0ZXJpYWwsIFRleHR1cmUsIFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSA9IHJlcXVpcmUgJ2JhYnlsb25qcydcbnsgcGVyZm9ybWFuY2UgfSA9IHJlcXVpcmUgJ3BlcmZfaG9va3MnXG57IGtsb2csIHNsYXNoIH0gPSByZXF1aXJlICdreGsnXG4gICAgICAgIFxuY2xhc3MgU2hhZGVyXG4gICAgXG4gICAgQDogKEB3b3JsZCkgLT5cblxuICAgICAgICBAc2NlbmUgPSBAd29ybGQuc2NlbmVcbiAgICAgICAgQGJ1ZmZlclNpemUgPSB3aWR0aDoyNTYsIGhlaWdodDoyNTZcbiAgICAgICAgQGZyYW1lUmF0ZXMgPSBbXVxuXG4gICAgICAgIGtsb2cgXCJidWZmZXJzICN7QHdvcmxkLmNhbnZhcy53aWR0aH14I3tAd29ybGQuY2FudmFzLmhlaWdodH1cIlxuICAgICAgICBcbiAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkgNCpAd29ybGQuY2FudmFzLndpZHRoKkB3b3JsZC5jYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAgICAgQHRleHR1cmVzID0gXG4gICAgICAgICAgICBrZXlzOiAgIFJhd1RleHR1cmUuQ3JlYXRlUlRleHR1cmUgQHdvcmxkLmtleXMsIDI1NiwgMywgQHNjZW5lLCBmYWxzZVxuICAgICAgICAgICAgYnVmZmVyOiBuZXcgUmF3VGV4dHVyZSBidWZmZXIsIEBidWZmZXJTaXplLndpZHRoLCBAYnVmZmVyU2l6ZS5oZWlnaHQsIEVuZ2luZS5URVhUVVJFRk9STUFUX1JHQkEsIEBzY2VuZSwgZmFsc2VcbiAgICAgICAgICAgIGZvbnQ6ICAgbmV3IFRleHR1cmUoXCIje19fZGlybmFtZX0vLi4vaW1nL2ZvbnQucG5nXCIsIEBzY2VuZSlcbiAgICAgICAgXG4gICAgICAgIEBpRnJhbWUgPSAwXG4gICAgICAgIEB2ZXJ0ZXhTaGFkZXIgPSAgXCJcIlwiXG4gICAgICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7IGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOyBhdHRyaWJ1dGUgdmVjMiB1djsgdW5pZm9ybSBtYXQ0IHdvcmxkVmlld1Byb2plY3Rpb247XG4gICAgICAgICAgICB2b2lkIG1haW4odm9pZCkgeyBnbF9Qb3NpdGlvbiA9IHdvcmxkVmlld1Byb2plY3Rpb24gKiB2ZWM0KHBvc2l0aW9uLCAxLjApOyB9XG4gICAgICAgICAgICBcIlwiXCJcbiAgICAgICAgXHJcbiAgICAgICAgZnJhZ1NvdXJjZSAgICA9IHNsYXNoLnJlYWRUZXh0IFwiI3tfX2Rpcm5hbWV9Ly4uL3NoYWRlci9mb2xsb3cuZnJhZ1wiXG4gICAgICAgIGJ1ZmZlclNvdXJjZSAgPSBzbGFzaC5yZWFkVGV4dCBcIiN7X19kaXJuYW1lfS8uLi9zaGFkZXIvYnVmZmVyLmZyYWdcIlxuICAgICAgICBAY29tbW9uU291cmNlID0gc2xhc2gucmVhZFRleHQgXCIje19fZGlybmFtZX0vLi4vc2hhZGVyL2NvbW1vbi5mcmFnXCJcbiAgICAgICAgXG4gICAgICAgIEVmZmVjdC5TaGFkZXJzU3RvcmUubWFpblZlcnRleFNoYWRlciA9IEB2ZXJ0ZXhTaGFkZXJcbiAgICAgICAgRWZmZWN0LlNoYWRlcnNTdG9yZS5tYWluRnJhZ21lbnRTaGFkZXIgPSBAc2hhZGVyQ29kZSBmcmFnU291cmNlIFxuICAgICAgICBcbiAgICAgICAgRWZmZWN0LlNoYWRlcnNTdG9yZS5idWZmZXJWZXJ0ZXhTaGFkZXIgPSBAdmVydGV4U2hhZGVyXG4gICAgICAgIEVmZmVjdC5TaGFkZXJzU3RvcmUuYnVmZmVyRnJhZ21lbnRTaGFkZXIgPSBAc2hhZGVyQ29kZSBidWZmZXJTb3VyY2UgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBAc2hhZGVyU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICBcbiAgICAgICAgIyAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgICAgXG4gICAgICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgIFxuICAgICAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMDAwICAgICAwMDAgICAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMCAgMDAwMDAwMDAwICAwMDAgICAgICBcbiAgICAgICAgIyAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgXG4gICAgICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgIFxuICAgICAgICBcbiAgICAgICAgQGJ1ZmZlck1hdGVyaWFsID0gQHNoYWRlck1hdGVyaWFsICdidWZmZXInXG4gICAgICAgIEBzaGFkZXJNYXRlcmlhbCA9IEBzaGFkZXJNYXRlcmlhbCAnbWFpbidcblxuICAgICAgICBAcGxhbmUyID0gTWVzaEJ1aWxkZXIuQ3JlYXRlUGxhbmUgXCJwbGFuZTJcIiwgeyB3aWR0aDogMTAsIGhlaWdodDogMTAgfSwgQHNjZW5lXG4gICAgICAgIEBwbGFuZTIubWF0ZXJpYWwgPSBAYnVmZmVyTWF0ZXJpYWxcbiAgICAgICAgQHBsYW5lMi5iaWxsYm9hcmRNb2RlID0gTWVzaC5CSUxMQk9BUkRNT0RFX0FMTFxuXG4gICAgICAgIEBwbGFuZSA9IE1lc2hCdWlsZGVyLkNyZWF0ZVBsYW5lIFwicGxhbmVcIiwgeyB3aWR0aDogMTAsIGhlaWdodDogMTAgfSwgQHNjZW5lXG4gICAgICAgIEBwbGFuZS5tYXRlcmlhbCA9IEBzaGFkZXJNYXRlcmlhbFxuICAgICAgICBAcGxhbmUuYmlsbGJvYXJkTW9kZSA9IE1lc2guQklMTEJPQVJETU9ERV9BTExcbiAgICAgICAgXG4gICAgICAgIEBzaGFkZXJNYXRlcmlhbC5vbkNvbXBpbGVkID0gPT4gXG4gICAgICAgICAgICBAY29tcGlsZVRpbWUgPSBwYXJzZUludCBwZXJmb3JtYW5jZS5ub3coKS1Ac2hhZGVyU3RhcnRcbiAgICAgICAgICAgIGtsb2cgXCJzaGFkZXIgY29tcGlsZVRpbWUgI3tAY29tcGlsZVRpbWUvMTAwMH1zXCIgXG4gICAgICAgICAgICBcbiAgICAgICAgQGJ1ZmZlck1hdGVyaWFsLm9uQ29tcGlsZWQgPSA9PiBcbiAgICAgICAgICAgIGNvbXBpbGVUaW1lID0gcGFyc2VJbnQgcGVyZm9ybWFuY2Uubm93KCktQHNoYWRlclN0YXJ0XG4gICAgICAgICAgICBrbG9nIFwiYnVmZmVyIGNvbXBpbGVUaW1lICN7Y29tcGlsZVRpbWUvMTAwMH1zXCIgXG4gICAgICAgICAgICBcbiAgICAgICAgIyAwMDAwMDAwMCAgICAgICAgICAgMDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwMDAwMDAwICBcbiAgICAgICAgIyAwMDAgICAwMDAgICAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgICAgMDAwICAgICBcbiAgICAgICAgIyAwMDAwMDAwICAgIDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwMDAgIDAwMDAwMDAgICAgMDAwICAwMDAwICAwMDAwMDAwICAgICAgMDAwICAgICBcbiAgICAgICAgIyAwMDAgICAwMDAgICAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgICBcbiAgICAgICAgIyAwMDAgICAwMDAgICAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgICAgMDAwICAgICBcbiAgICAgICAgXG4gICAgICAgICMgQHJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXRUZXh0dXJlIFwiYnVmXCIsIHsgd2lkdGg6QHdvcmxkLmNhbnZhcy53aWR0aCwgaGVpZ2h0OkB3b3JsZC5jYW52YXMuaGVpZ2h0IH0sIEBzY2VuZSwgZmFsc2UgIywgZmFsc2UsIFRleHR1cmUuQklMSU5FQVJfU0FNUExJTkdNT0RFLCBFbmdpbmUuVEVYVFVSRVRZUEVfQllURVxuICAgICAgICBAcmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldFRleHR1cmUgXCJidWZcIiwgQGJ1ZmZlclNpemUsIEBzY2VuZSwgZmFsc2UgIywgZmFsc2UsIFRleHR1cmUuQklMSU5FQVJfU0FNUExJTkdNT0RFLCBFbmdpbmUuVEVYVFVSRVRZUEVfQllURVxuICAgICAgICBAcmVuZGVyVGFyZ2V0LnJlbmRlckxpc3QucHVzaCBAcGxhbmUyXG4gICAgICAgIEBzY2VuZS5jdXN0b21SZW5kZXJUYXJnZXRzLnB1c2ggQHJlbmRlclRhcmdldFxuICAgIFxyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgIyAwMDAwMDAwICAgIDAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwICBcbiAgICAgICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiAgICAgICAgIyAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMDAwMDAgICBcbiAgICAgICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiAgICAgICAgIyAwMDAwMDAwICAgIDAwMDAwMDAwICAwMDAgICAgICAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICBcblxuICAgICAgICBAcmVuZGVyVGFyZ2V0Lm9uQmVmb3JlUmVuZGVyID0gKCkgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBwbGFuZTIucG9zaXRpb24uY29weUZyb20gQHdvcmxkLmNhbWVyYS5wb3NpdGlvbi5hZGQgQHdvcmxkLmNhbWVyYS5nZXREaXIoKS5zY2FsZSAyXG4gICAgICAgICAgICBAbWF0ZXJpYWxEYXRhIEBidWZmZXJNYXRlcmlhbFxuICAgICAgICBcbiAgICAgICAgQHNjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQgPT4gXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEB0ZXh0dXJlcy5rZXlzLnVwZGF0ZSBAd29ybGQua2V5c1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBAaVJlc29sdXRpb24gPSBuZXcgVmVjdG9yMyBAd29ybGQuY2FudmFzLndpZHRoLCBAd29ybGQuY2FudmFzLmhlaWdodCwgMVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBAaURlbHRhID0gbmV3IFZlY3RvcjIoQHdvcmxkLmNhbWVyYS5tb3VzZURlbHRhLngsIEB3b3JsZC5jYW1lcmEubW91c2VEZWx0YS55KSBcbiAgICAgICAgICAgIEBpTW91c2UgPSBuZXcgVmVjdG9yNChcbiAgICAgICAgICAgICAgICBAd29ybGQuY2FtZXJhLm1vdXNlWCAqICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA/IDApXG4gICAgICAgICAgICAgICAgQGlSZXNvbHV0aW9uLnkgLSAoQHdvcmxkLmNhbWVyYS5tb3VzZVkgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPyBAaVJlc29sdXRpb24ueSkpXG4gICAgICAgICAgICAgICAgKEB3b3JsZC5jYW1lcmEuZG93bkJ1dHRvbnMgYW5kIDEgb3IgLTEpICogQHdvcmxkLmNhbWVyYS5kb3duUG9zPy54ICogKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8gMClcbiAgICAgICAgICAgICAgICAoQHdvcmxkLmNhbWVyYS5kb3duQnV0dG9ucyBhbmQgMSBvciAtMSkgKiAoQGlSZXNvbHV0aW9uLnkgLSAoQHdvcmxkLmNhbWVyYS5kb3duUG9zPy55ICogKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8gQGlSZXNvbHV0aW9uLnkpKSkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBAaUNlbnRlciA9IG5ldyBWZWN0b3IzIEB3b3JsZC5jYW1lcmEuY2VudGVyLngsIEB3b3JsZC5jYW1lcmEuY2VudGVyLnksIEB3b3JsZC5jYW1lcmEuY2VudGVyLnpcbiAgICAgICAgICAgIEBpQ2FtZXJhID0gbmV3IFZlY3RvcjMgQHdvcmxkLmNhbWVyYS5wb3NpdGlvbi54LCBAd29ybGQuY2FtZXJhLnBvc2l0aW9uLnksIEB3b3JsZC5jYW1lcmEucG9zaXRpb24uelxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBAaVRpbWUgICAgICA9IHBlcmZvcm1hbmNlLm5vdygpLzEwMDBcbiAgICAgICAgICAgIEBpVGltZURlbHRhID0gQHdvcmxkLmVuZ2luZS5nZXREZWx0YVRpbWUoKS8xMDAwXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBmcmFtZVJhdGVzLnB1c2ggQHdvcmxkLmVuZ2luZS5nZXRGcHMoKVxuICAgICAgICAgICAgaWYgQGZyYW1lUmF0ZXMubGVuZ3RoID4gMzAgdGhlbiBAZnJhbWVSYXRlcy5zaGlmdCgpXG4gICAgICAgICAgICBAZnBzID0gMFxuICAgICAgICAgICAgZm9yIHIgaW4gQGZyYW1lUmF0ZXMgdGhlbiBAZnBzICs9IHJcbiAgICAgICAgICAgIEBmcHMgLz0gQGZyYW1lUmF0ZXMubGVuZ3RoXG4gICAgICAgICAgICBcbiAgICAgICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwICAwMDAwMDAwMCAgIFxuICAgICAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgXG4gICAgICAgICMgMDAwMDAwMDAwICAwMDAwMDAgICAgICAgMDAwICAgICAwMDAwMDAwICAgMDAwMDAwMCAgICBcbiAgICAgICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIFxuICAgICAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgICAgIFxuICAgICAgICBAc2NlbmUub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmFkZCA9PiBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHRleHR1cmVzLmJ1ZmZlci51cGRhdGUgQHJlbmRlclRhcmdldC5yZWFkUGl4ZWxzKClcbiAgICAgICAgICAgIFxuICAgICAgICBAc2NlbmUub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkID0+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBpRnJhbWUrK1xuICAgICAgICAgICAgZm9yIGkgaW4gWzI1Ni4uLjUxMl0gXG4gICAgICAgICAgICAgICAgQHdvcmxkLmtleXNbaV0gPSAwXG4gICAgICAgICAgIFxuICAgICMgMDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMDAwMDAwICAwMDAwMDAwMCAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwIDAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAwMDAwICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAwMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMDAwMDAwICAwMDAgICAwMDAgIFxuICAgIFxuICAgIHJlbmRlcjogLT5cblxuICAgICAgICBAcGxhbmUucG9zaXRpb24uY29weUZyb20gQHdvcmxkLmNhbWVyYS5wb3NpdGlvbi5hZGQgQHdvcmxkLmNhbWVyYS5nZXREaXIoKS5zY2FsZSAxLjVcbiAgICAgICAgXG4gICAgICAgIEBtYXRlcmlhbERhdGEgQHNoYWRlck1hdGVyaWFsXG4gICAgICAgICAgICAgICAgXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAwICAgICAwMDAgICAgIDAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDAgIFxuICAgICMgMDAwMDAwMCAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICBcbiAgICBcbiAgICBtYXRlcmlhbERhdGE6IChtKSA9PiBcbiAgICAgICAgXG4gICAgICAgIG0uc2V0VGV4dHVyZSAnaUNoYW5uZWwwJyAgIEB0ZXh0dXJlcy5rZXlzIFxuICAgICAgICBtLnNldFRleHR1cmUgJ2lDaGFubmVsMScgICBAdGV4dHVyZXMuYnVmZmVyXG4gICAgICAgIG0uc2V0VGV4dHVyZSAnaUNoYW5uZWwyJyAgIEB0ZXh0dXJlcy5mb250XG4gICAgICAgIG0uc2V0SW50ICAgICAnaUZyYW1lJyAgICAgIEBpRnJhbWVcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpQ29tcGlsZScgICAgQGNvbXBpbGVUaW1lLzEwMDBcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpVGltZScgICAgICAgQGlUaW1lXG4gICAgICAgIG0uc2V0RmxvYXQgICAnaVRpbWVEZWx0YScgIEBpVGltZURlbHRhXG4gICAgICAgIG0uc2V0VmVjdG9yMiAnaURlbHRhJyAgICAgIEBpRGVsdGFcbiAgICAgICAgbS5zZXRWZWN0b3I0ICdpTW91c2UnICAgICAgQGlNb3VzZVxuICAgICAgICBtLnNldFZlY3RvcjMgJ2lSZXNvbHV0aW9uJyBAaVJlc29sdXRpb25cbiAgICAgICAgbS5zZXRWZWN0b3IzICdpQ2VudGVyJyAgICAgQGlDZW50ZXJcbiAgICAgICAgbS5zZXRWZWN0b3IzICdpQ2FtZXJhJyAgICAgQGlDYW1lcmFcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpRGlzdCcgICAgICAgQHdvcmxkLmNhbWVyYS5kaXN0XG4gICAgICAgIG0uc2V0RmxvYXQgICAnaU1pbkRpc3QnICAgIEB3b3JsZC5jYW1lcmEubWluRGlzdFxuICAgICAgICBtLnNldEZsb2F0ICAgJ2lNYXhEaXN0JyAgICBAd29ybGQuY2FtZXJhLm1heERpc3RcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpUm90YXRlJyAgICAgQHdvcmxkLmNhbWVyYS5yb3RhdGVcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpRGVncmVlJyAgICAgQHdvcmxkLmNhbWVyYS5kZWdyZWVcbiAgICAgICAgbS5zZXRGbG9hdCAgICdpRnJhbWVSYXRlJyAgTWF0aC5yb3VuZCBAZnBzXG4gICAgICAgIG0uc2V0RmxvYXQgICAnaU1zJyAgICAgICAgIEB3b3JsZC5lbmdpbmUuZ2V0RGVsdGFUaW1lKClcbiAgICAgICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwMCAgMDAwMDAwMDAgICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICBcbiAgICAjIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgMDAwMDAwMCAgICBcbiAgICAjICAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICBcbiAgICAjIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICBcbiAgICBzaGFkZXJNYXRlcmlhbDogKGtleSkgLT5cbiAgICAgICAgXG4gICAgICAgIG5ldyBTaGFkZXJNYXRlcmlhbCBcIiN7a2V5fVNoYWRlclwiLCBAc2NlbmUsICBcbiAgICAgICAgICAgICAgICB2ZXJ0ZXg6ICAga2V5XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IGtleVxuICAgICAgICAgICAgLFxyXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbJ3Bvc2l0aW9uJyAnbm9ybWFsJyAndXYnXVxuICAgICAgICAgICAgICAgIHVuaWZvcm1zOiAgIFtcbiAgICAgICAgICAgICAgICAgICAgJ3dvcmxkVmlld1Byb2plY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICdpQ2FtZXJhJyAnaUNlbnRlcicgJ2lEaXN0JyAnaU1heERpc3QnICdpTWluRGlzdCdcbiAgICAgICAgICAgICAgICAgICAgJ2lGcmFtZVJhdGUnICdpTXMnICdpRnJhbWUnIFxuICAgICAgICAgICAgICAgICAgICAnaURlbHRhJyAnaVRpbWUnICdpVGltZURlbHRhJyBcbiAgICAgICAgICAgICAgICAgICAgJ2lNb3VzZScgJ2lSZXNvbHV0aW9uJyBcbiAgICAgICAgICAgICAgICAgICAgJ2lSb3RhdGUnICdpRGVncmVlJyBcbiAgICAgICAgICAgICAgICAgICAgJ2lDb21waWxlJ1xuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgXG4gICAgc2hhZGVyQ29kZTogKGZyYWdTb3VyY2UpIC0+XG4gICAgICAgIFwiXCJcIlxuICAgICAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCAgICAgaVRpbWU7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0ICAgICBpVGltZURlbHRhO1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCAgICAgaUZyYW1lUmF0ZTtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgICAgIGlNcztcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgICAgIGlDb21waWxlO1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCAgICAgaURpc3Q7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0ICAgICBpTWluRGlzdDtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgICAgIGlNYXhEaXN0O1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCAgICAgaVJvdGF0ZTtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgICAgIGlEZWdyZWU7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzIgICAgICBpRGVsdGE7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgICAgICBpTW91c2U7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgICAgICBpUmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMyAgICAgIGlDZW50ZXI7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzMgICAgICBpQ2FtZXJhO1xuICAgICAgICAgICAgdW5pZm9ybSBpbnQgICAgICAgaUZyYW1lO1xuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgaUNoYW5uZWwwO1xuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgaUNoYW5uZWwxO1xuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgaUNoYW5uZWwyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAje0Bjb21tb25Tb3VyY2V9XG4gICAgICAgICAgICAje2ZyYWdTb3VyY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHZvaWQgbWFpbih2b2lkKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYWluSW1hZ2UoZ2xfRnJhZ0NvbG9yLCBnbF9GcmFnQ29vcmQueHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXCJcIlwiXG4gICAgICAgICAgICAgICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBTaGFkZXJcbiJdfQ==
//# sourceURL=../coffee/shader.coffee