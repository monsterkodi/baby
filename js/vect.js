// koffee 1.6.0

/*
000   000  00000000   0000000  000000000
000   000  000       000          000   
 000 000   0000000   000          000   
   000     000       000          000   
    0      00000000   0000000     000
 */
var Vect, Vector3, abs, acos, rad2deg, randRange, ref, round, sqrt,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

ref = require('kxk'), randRange = ref.randRange, rad2deg = ref.rad2deg;

Vector3 = require('babylonjs').Vector3;

round = Math.round, acos = Math.acos, abs = Math.abs, sqrt = Math.sqrt;

Vect = (function(superClass) {
    extend(Vect, superClass);

    Vect.counter = 0;

    Vect.tmp = new Vect;

    function Vect(x, y, z) {
        var ref1, ref2;
        if (x == null) {
            x = 0;
        }
        if (y == null) {
            y = 0;
        }
        if (z == null) {
            z = 0;
        }
        Vect.counter += 1;
        if ((x.x != null) && (x.y != null)) {
            Vect.__super__.constructor.call(this, x.x, x.y, (ref1 = x.z) != null ? ref1 : 0);
        } else if (Array.isArray(x)) {
            Vect.__super__.constructor.call(this, x[0], x[1], (ref2 = x[2]) != null ? ref2 : 0);
        } else {
            Vect.__super__.constructor.call(this, x, y, z != null ? z : 0);
        }
        if (Number.isNaN(this.x)) {
            throw new Error;
        }
    }

    Vect.prototype.clone = function() {
        return new Vect(this);
    };

    Vect.prototype.copy = function(v) {
        var ref1;
        this.x = v.x;
        this.y = v.y;
        this.z = (ref1 = v.z) != null ? ref1 : 0;
        return this;
    };

    Vect.prototype.parallel = function(n) {
        var dot;
        dot = this.x * n.x + this.y * n.y + this.z * n.z;
        return new Vect(dot * n.x, dot * n.y, dot * n.z);
    };

    Vect.prototype.perpendicular = function(n) {
        var dot;
        dot = this.x * n.x + this.y * n.y + this.z * n.z;
        return new Vect(this.x - dot * n.x, this.y - dot * n.y, this.z - dot * n.z);
    };

    Vect.prototype.reflect = function(n) {
        var dot;
        dot = 2 * (this.x * n.x + this.y * n.y + this.z * n.z);
        return new Vect(this.x - dot * n.x, this.y - dot * n.y, this.z - dot * n.z);
    };

    Vect.prototype.rotated = function(axis, angle) {
        return this.clone().rotate(axis, angle);
    };

    Vect.prototype.rotate = function(axis, angle) {
        var Quat;
        Quat = require('./quat');
        this.applyQuaternion(Quat.axisAngle(axis, angle));
        return this;
    };

    Vect.prototype.crossed = function(v) {
        return this.clone().cross(v);
    };

    Vect.prototype.cross = function(v) {
        return this.crossVectors(this, v);
    };

    Vect.prototype.normal = function() {
        return this.clone().normalize();
    };

    Vect.prototype.normalize = function() {
        var l;
        l = this.length();
        if (l) {
            l = 1.0 / l;
            this.x *= l;
            this.y *= l;
            this.z *= l;
        }
        return this;
    };

    Vect.prototype.xyperp = function() {
        return new Vect(-this.y, this.x);
    };

    Vect.prototype.rounded = function() {
        return this.clone().round();
    };

    Vect.prototype.round = function() {
        this.x = round(this.x);
        this.y = round(this.y);
        this.z = round(this.z);
        return this;
    };

    Vect.prototype.equals = function(o) {
        return this.manhattan(o) < 0.001;
    };

    Vect.prototype.same = function(o) {
        var z;
        return this.x === o.x && this.y === o.y && (z = o.z);
    };

    Vect.prototype.faded = function(o, val) {
        return this.clone().fade(o, val);
    };

    Vect.prototype.fade = function(o, val) {
        this.x = this.x * (1 - val) + o.x * val;
        this.y = this.y * (1 - val) + o.y * val;
        this.z = this.z * (1 - val) + o.z * val;
        return this;
    };

    Vect.prototype.xyangle = function(v) {
        var otherXY, thisXY;
        thisXY = new Vect(this.x, this.y).normal();
        otherXY = new Vect(v.x, v.y).normal();
        if (thisXY.xyperp().dot(otherXY >= 0)) {
            return rad2deg(acos(thisXY.dot(otherXY)));
        }
        return -rad2deg(acos(thisXY.dot(otherXY)));
    };

    Vect.prototype.paris = function(o) {
        var m;
        m = [abs(o.x - this.x), abs(o.y - this.y), abs(o.z - this.z)];
        m.sort(function(a, b) {
            return b - a;
        });
        return m[0] + 0.2 * m[1] + 0.1 * m[2];
    };

    Vect.prototype.manhattan = function(o) {
        return abs(o.x - this.x) + abs(o.y - this.y) + abs(o.z - this.z);
    };

    Vect.prototype.dist = function(o) {
        return this.minus(o).length();
    };

    Vect.prototype.length = function() {
        return sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    };

    Vect.prototype.dot = function(v) {
        return this.x * v.x + this.y * v.y + this.z * v.z;
    };

    Vect.prototype.mul = function(f) {
        return new Vect(this.x * f, this.y * f, this.z * f);
    };

    Vect.prototype.div = function(d) {
        return new Vect(this.x / d, this.y / d, this.z / d);
    };

    Vect.prototype.plus = function(v) {
        return new Vect(v).add(this);
    };

    Vect.prototype.minus = function(v) {
        return new Vect(v).neg().add(this);
    };

    Vect.prototype.neg = function() {
        return new Vect(-this.x, -this.y, -this.z);
    };

    Vect.prototype.to = function(v) {
        return new Vect(v).sub(this);
    };

    Vect.prototype.angle = function(v) {
        var l, o, p, q, r, x, y, z;
        if (l = this.length()) {
            if (o = v.length()) {
                x = this.x / l;
                y = this.y / l;
                z = this.z / l;
                p = v.x / o;
                q = v.y / o;
                r = v.z / o;
                return rad2deg(acos(x * p + y * q + z * r));
            }
        }
        return 0;
    };

    Vect.prototype.negate = function() {
        return this.scale(-1);
    };

    Vect.prototype.scale = function(f) {
        this.x *= f;
        this.y *= f;
        this.z *= f;
        return this;
    };

    Vect.prototype.reset = function() {
        this.x = this.y = this.z = 0;
        return this;
    };

    Vect.prototype.isZero = function() {
        var ref1, ref2;
        return ((this.x === (ref2 = this.y) && ref2 === (ref1 = this.z)) && ref1 === 0);
    };

    Vect.prototype.randomize = function() {
        this.set(randRange(-1, 1), randRange(-1, 1), randRange(-1, 1));
        this.normalize();
        return this;
    };

    Vect.random = function() {
        return new Vect().randomize();
    };

    Vect.rayPlaneIntersection = function(rayPos, rayDirection, planePos, planeNormal) {
        var x;
        x = planePos.minus(rayPos).dot(planeNormal) / rayDirection.dot(planeNormal);
        return rayPos.plus(rayDirection.mul(x));
    };

    Vect.pointMappedToPlane = function(point, planePos, planeNormal) {
        return point.minus(planeNormal).dot(point.minus(planePos).dot(planeNormal));
    };

    Vect.rayPlaneIntersectionFactor = function(rayPos, rayDir, planePos, planeNormal) {
        var r, rayDot;
        rayDot = rayDir.dot(planeNormal);
        if (Number.isNaN(rayDot)) {
            throw new Error;
        }
        if (rayDot === 0) {
            return 2;
        }
        r = planePos.minus(rayPos).dot(planeNormal) / rayDot;
        if (Number.isNaN(r)) {
            console.log('rayPos', rayPos);
            console.log('rayDir', rayDir);
            console.log('planePos', planePos);
            console.log('planeNormal', planeNormal);
            throw new Error;
        }
        return r;
    };

    Vect.PX = 0;

    Vect.PY = 1;

    Vect.PZ = 2;

    Vect.NX = 3;

    Vect.NY = 4;

    Vect.NZ = 5;

    Vect.unitX = new Vect(1, 0, 0);

    Vect.unitY = new Vect(0, 1, 0);

    Vect.unitZ = new Vect(0, 0, 1);

    Vect.minusX = new Vect(-1, 0, 0);

    Vect.minusY = new Vect(0, -1, 0);

    Vect.minusZ = new Vect(0, 0, -1);

    Vect.normals = [Vect.unitX, Vect.unitY, Vect.unitZ, Vect.minusX, Vect.minusY, Vect.minusZ];

    Vect.perpNormals = function(v) {
        var i;
        i = this.normalIndex(v);
        switch (i) {
            case this.PX:
                return [this.unitY, this.unitZ, this.minusY, this.minusZ];
            case this.PY:
                return [this.minusX, this.unitZ, this.unitX, this.minusZ];
            case this.PZ:
                return [this.unitY, this.minusX, this.minusY, this.unitX];
            case this.NX:
                return [this.unitY, this.minusZ, this.minusY, this.unitZ];
            case this.NY:
                return [this.minusX, this.minusZ, this.unitX, this.unitZ];
            case this.NZ:
                return [this.unitY, this.unitX, this.minusY, this.minusX];
        }
    };

    Vect.normalIndex = function(v) {
        var cn, i, j;
        cn = this.closestNormal(v);
        for (i = j = 0; j < 6; i = ++j) {
            if (Vect.normals[i].equals(cn)) {
                return i;
            }
        }
        return -1;
    };

    Vect.closestNormal = function(v) {
        var angles, j, len, n, ref1;
        Vect.tmp.copy(v);
        Vect.tmp.normalize();
        angles = [];
        ref1 = Vect.normals;
        for (j = 0, len = ref1.length; j < len; j++) {
            n = ref1[j];
            if (n.equals(Vect.tmp)) {
                return n;
            }
            angles.push([n.angle(Vect.tmp), n]);
        }
        angles.sort(function(a, b) {
            return a[0] - b[0];
        });
        return angles[0][1];
    };

    return Vect;

})(Vector3);

module.exports = Vect;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVjdC5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUEsOERBQUE7SUFBQTs7O0FBUUEsTUFBeUIsT0FBQSxDQUFRLEtBQVIsQ0FBekIsRUFBRSx5QkFBRixFQUFhOztBQUNYLFVBQVksT0FBQSxDQUFRLFdBQVI7O0FBQ1osa0JBQUYsRUFBUyxnQkFBVCxFQUFlLGNBQWYsRUFBb0I7O0FBRWQ7OztJQUVGLElBQUMsQ0FBQSxPQUFELEdBQVc7O0lBQ1gsSUFBQyxDQUFBLEdBQUQsR0FBTyxJQUFJOztJQUVSLGNBQUMsQ0FBRCxFQUFLLENBQUwsRUFBUyxDQUFUO0FBRUMsWUFBQTs7WUFGQSxJQUFFOzs7WUFBRSxJQUFFOzs7WUFBRSxJQUFFOztRQUVWLElBQUksQ0FBQyxPQUFMLElBQWdCO1FBRWhCLElBQUcsYUFBQSxJQUFTLGFBQVo7WUFDSSxzQ0FBTSxDQUFDLENBQUMsQ0FBUixFQUFXLENBQUMsQ0FBQyxDQUFiLGdDQUFzQixDQUF0QixFQURKO1NBQUEsTUFFSyxJQUFHLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxDQUFIO1lBQ0Qsc0NBQU0sQ0FBRSxDQUFBLENBQUEsQ0FBUixFQUFZLENBQUUsQ0FBQSxDQUFBLENBQWQsaUNBQXlCLENBQXpCLEVBREM7U0FBQSxNQUFBO1lBR0Qsc0NBQU0sQ0FBTixFQUFTLENBQVQsY0FBWSxJQUFJLENBQWhCLEVBSEM7O1FBSUwsSUFBRyxNQUFNLENBQUMsS0FBUCxDQUFhLElBQUMsQ0FBQSxDQUFkLENBQUg7QUFDSSxrQkFBTSxJQUFJLE1BRGQ7O0lBVkQ7O21CQWFILEtBQUEsR0FBTyxTQUFBO2VBQUcsSUFBSSxJQUFKLENBQVMsSUFBVDtJQUFIOzttQkFDUCxJQUFBLEdBQU0sU0FBQyxDQUFEO0FBQ0YsWUFBQTtRQUFBLElBQUMsQ0FBQSxDQUFELEdBQUssQ0FBQyxDQUFDO1FBQ1AsSUFBQyxDQUFBLENBQUQsR0FBSyxD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QUFISjtRQUtBLE1BQU0sQ0FBQyxJQUFQLENBQVksU0FBQyxDQUFELEVBQUcsQ0FBSDttQkFBUyxDQUFFLENBQUEsQ0FBQSxDQUFGLEdBQUssQ0FBRSxDQUFBLENBQUE7UUFBaEIsQ0FBWjtlQUNBLE1BQU8sQ0FBQSxDQUFBLENBQUcsQ0FBQSxDQUFBO0lBWEU7Ozs7R0E3TEQ7O0FBME1uQixNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwICAgMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwMFxuMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgICAgIDAwMCAgIFxuIDAwMCAwMDAgICAwMDAwMDAwICAgMDAwICAgICAgICAgIDAwMCAgIFxuICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgICAgICAgIDAwMCAgIFxuICAgIDAgICAgICAwMDAwMDAwMCAgIDAwMDAwMDAgICAgIDAwMCAgIFxuIyMjXG5cbnsgcmFuZFJhbmdlLCByYWQyZGVnIH0gPSByZXF1aXJlICdreGsnXG57IFZlY3RvcjMgfSA9IHJlcXVpcmUgJ2JhYnlsb25qcydcbnsgcm91bmQsIGFjb3MsIGFicywgc3FydCB9ID0gTWF0aCBcblxuY2xhc3MgVmVjdCBleHRlbmRzIFZlY3RvcjNcblxuICAgIEBjb3VudGVyID0gMFxuICAgIEB0bXAgPSBuZXcgVmVjdFxuICAgIFxuICAgIEA6ICh4PTAseT0wLHo9MCkgLT5cbiAgICAgICAgXG4gICAgICAgIFZlY3QuY291bnRlciArPSAxXG4gICAgICAgIFxuICAgICAgICBpZiB4Lng/IGFuZCB4Lnk/XG4gICAgICAgICAgICBzdXBlciB4LngsIHgueSwgeC56ID8gMFxuICAgICAgICBlbHNlIGlmIEFycmF5LmlzQXJyYXkgeFxuICAgICAgICAgICAgc3VwZXIgeFswXSwgeFsxXSwgeFsyXSA/IDBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3VwZXIgeCwgeSwgeiA/IDBcbiAgICAgICAgaWYgTnVtYmVyLmlzTmFOIEB4XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JcbiAgICAgICAgICAgIFxuICAgIGNsb25lOiAtPiBuZXcgVmVjdCBAXG4gICAgY29weTogKHYpIC0+IFxuICAgICAgICBAeCA9IHYueFxuICAgICAgICBAeSA9IHYueSBcbiAgICAgICAgQHogPSB2LnogPyAwXG4gICAgICAgIEBcblxuICAgIHBhcmFsbGVsOiAobikgLT5cbiAgICAgICAgZG90ID0gQHgqbi54ICsgQHkqbi55ICsgQHoqbi56XG4gICAgICAgIG5ldyBWZWN0IGRvdCpuLngsIGRvdCpuLnksIGRvdCpuLnpcblxuICAgIHBlcnBlbmRpY3VsYXI6IChuKSAtPiAjIHByb2plY3Rpb24gb2Ygbm9ybWFsaXplZCB2ZWN0b3IgbiB0byB2ZWN0b3IgdGhhdCBpcyBwZXJwZW5kaWN1bGFyIHRvIHRoaXNcbiAgICAgICAgZG90ID0gQHgqbi54ICsgQHkqbi55ICsgQHoqbi56XG4gICAgICAgIG5ldyBWZWN0IEB4LWRvdCpuLngsIEB5LWRvdCpuLnksIEB6LWRvdCpuLnogXG5cbiAgICByZWZsZWN0OiAobikgLT5cbiAgICAgICAgZG90ID0gMiooQHgqbi54ICsgQHkqbi55ICsgQHoqbi56KVxuICAgICAgICBuZXcgVmVjdCBAeC1kb3Qqbi54LCBAeS1kb3Qqbi55LCBAei1kb3Qqbi56XG4gICAgICAgIFxuICAgIHJvdGF0ZWQ6IChheGlzLCBhbmdsZSkgLT4gQGNsb25lKCkucm90YXRlIGF4aXMsYW5nbGVcbiAgICByb3RhdGU6IChheGlzLCBhbmdsZSkgLT5cbiAgICAgICAgUXVhdCA9IHJlcXVpcmUgJy4vcXVhdCdcbiAgICAgICAgQGFwcGx5UXVhdGVybmlvbiBRdWF0LmF4aXNBbmdsZSBheGlzLCBhbmdsZVxuICAgICAgICBAXG5cbiAgICBjcm9zc2VkOiAodikgLT4gQGNsb25lKCkuY3Jvc3ModilcbiAgICBjcm9zczogKHYpIC0+IEBjcm9zc1ZlY3RvcnMgQCwgdlxuICAgIFxuICAgIG5vcm1hbDogLT4gQGNsb25lKCkubm9ybWFsaXplKClcbiAgICBub3JtYWxpemU6IC0+XG4gICAgICAgIGwgPSBAbGVuZ3RoKClcbiAgICAgICAgaWYgbFxuICAgICAgICAgICAgbCA9IDEuMC9sXG4gICAgICAgICAgICBAeCAqPSBsXG4gICAgICAgICAgICBAeSAqPSBsXG4gICAgICAgICAgICBAeiAqPSBsXG4gICAgICAgIEAgICAgXG5cbiAgICB4eXBlcnA6IC0+IG5ldyBWZWN0IC1AeSwgQHhcbiAgICBcbiAgICByb3VuZGVkOiAtPiBAY2xvbmUoKS5yb3VuZCgpXG4gICAgcm91bmQ6IC0+IFxuICAgICAgICBAeCA9IHJvdW5kIEB4IFxuICAgICAgICBAeSA9IHJvdW5kIEB5IFxuICAgICAgICBAeiA9IHJvdW5kIEB6XG4gICAgICAgIEBcblxuICAgIGVxdWFsczogKG8pIC0+IEBtYW5oYXR0YW4obykgPCAwLjAwMVxuICAgIHNhbWU6ICAgKG8pIC0+IEB4PT1vLnggYW5kIEB5PT1vLnkgYW5kIHo9by56XG5cbiAgICBmYWRlZDogKG8sIHZhbCkgLT4gQGNsb25lKCkuZmFkZSBvLCB2YWxcbiAgICBmYWRlOiAobywgdmFsKSAtPiAjIGxpbmVhciBpbnRlcnBvbGF0aW9uIGZyb20gdGhpcyAodmFsPT0wKSB0byBvdGhlciAodmFsPT0xKVxuICAgICAgICBcbiAgICAgICAgQHggPSBAeCAqICgxLXZhbCkgKyBvLnggKiB2YWxcbiAgICAgICAgQHkgPSBAeSAqICgxLXZhbCkgKyBvLnkgKiB2YWxcbiAgICAgICAgQHogPSBAeiAqICgxLXZhbCkgKyBvLnogKiB2YWxcbiAgICAgICAgQFxuICAgIFxuICAgIHh5YW5nbGU6ICh2KSAtPlxuICAgICAgICBcbiAgICAgICAgdGhpc1hZICA9IG5ldyBWZWN0KEB4LCBAeSkubm9ybWFsKClcbiAgICAgICAgb3RoZXJYWSA9IG5ldyBWZWN0KHYueCwgdi55KS5ub3JtYWwoKVxuICAgICAgICBpZiB0aGlzWFkueHlwZXJwKCkuZG90IG90aGVyWFkgPj0gMCBcbiAgICAgICAgICAgIHJldHVybiByYWQyZGVnKGFjb3ModGhpc1hZLmRvdCBvdGhlclhZKSlcbiAgICAgICAgLXJhZDJkZWcoYWNvcyh0aGlzWFkuZG90IG90aGVyWFkpKVxuICAgICAgICBcbiAgICBwYXJpczogKG8pIC0+IFxuICAgICAgICBtID0gW2FicyhvLngtQHgpLGFicyhvLnktQHkpLGFicyhvLnotQHopXVxuICAgICAgICBtLnNvcnQgKGEsYikgLT4gYi1hXG4gICAgICAgIG1bMF0rMC4yKm1bMV0rMC4xKm1bMl1cbiAgICBcbiAgICBtYW5oYXR0YW46IChvKSAtPiBhYnMoby54LUB4KSthYnMoby55LUB5KSthYnMoby56LUB6KVxuICAgIGRpc3Q6ICAgKG8pIC0+IEBtaW51cyhvKS5sZW5ndGgoKVxuICAgIGxlbmd0aDogICAgLT4gc3FydCBAeCpAeCArIEB5KkB5ICsgQHoqQHpcbiAgICBkb3Q6ICAgKHYpIC0+IEB4KnYueCArIEB5KnYueSArIEB6KnYuelxuICAgIFxuICAgIG11bDogICAoZikgLT4gbmV3IFZlY3QgQHgqZiwgQHkqZiwgQHoqZlxuICAgIGRpdjogICAoZCkgLT4gbmV3IFZlY3QgQHgvZCwgQHkvZCwgQHovZFxuICAgIHBsdXM6ICAodikgLT4gbmV3IFZlY3QodikuYWRkIEBcbiAgICBtaW51czogKHYpIC0+IG5ldyBWZWN0KHYpLm5lZygpLmFkZCBAXG4gICAgbmVnOiAgICAgICAtPiBuZXcgVmVjdCAtQHgsIC1AeSwgLUB6XG4gICAgdG86ICAgICh2KSAtPiBuZXcgVmVjdCh2KS5zdWIgQFxuICAgICAgICBcbiAgICBhbmdsZTogKHYpIC0+IFxuICAgICAgICBcbiAgICAgICAgaWYgbCA9IEBsZW5ndGgoKVxuICAgICAgICAgICAgaWYgbyA9IHYubGVuZ3RoKClcbiAgICAgICAgICAgICAgICB4ID0gQHggLyBsXG4gICAgICAgICAgICAgICAgeSA9IEB5IC8gbFxuICAgICAgICAgICAgICAgIHogPSBAeiAvIGxcbiAgICAgICAgICAgICAgICBwID0gdi54IC8gb1xuICAgICAgICAgICAgICAgIHEgPSB2LnkgLyBvXG4gICAgICAgICAgICAgICAgciA9IHYueiAvIG9cbiAgICAgICAgICAgICAgICByZXR1cm4gcmFkMmRlZyBhY29zIHgqcCArIHkqcSArIHoqclxuICAgICAgICAwICAgIFxuICAgIFxuICAgIG5lZ2F0ZTogIC0+IEBzY2FsZSAtMVxuICAgIHNjYWxlOiAoZikgLT5cbiAgICAgICAgQHggKj0gZlxuICAgICAgICBAeSAqPSBmXG4gICAgICAgIEB6ICo9IGZcbiAgICAgICAgQFxuICAgICAgICBcbiAgICByZXNldDogLT5cbiAgICAgICAgQHggPSBAeSA9IEB6ID0gMFxuICAgICAgICBAXG4gICAgXG4gICAgaXNaZXJvOiAtPiBAeCA9PSBAeSA9PSBAeiA9PSAwXG5cbiAgICByYW5kb21pemU6IC0+IFxuICAgICAgICBAc2V0IHJhbmRSYW5nZSgtMSwxKSxyYW5kUmFuZ2UoLTEsMSkscmFuZFJhbmdlKC0xLDEpXG4gICAgICAgIEBub3JtYWxpemUoKVxuICAgICAgICBAXG4gICAgXG4gICAgQHJhbmRvbTogLT4gbmV3IFZlY3QoKS5yYW5kb21pemUoKVxuICAgICAgICAgICAgXG4gICAgQHJheVBsYW5lSW50ZXJzZWN0aW9uOiAocmF5UG9zLCByYXlEaXJlY3Rpb24sIHBsYW5lUG9zLCBwbGFuZU5vcm1hbCkgLT5cbiAgICAgICAgeCA9IHBsYW5lUG9zLm1pbnVzKHJheVBvcykuZG90KHBsYW5lTm9ybWFsKSAvIHJheURpcmVjdGlvbi5kb3QocGxhbmVOb3JtYWwpXG4gICAgICAgIHJldHVybiByYXlQb3MucGx1cyByYXlEaXJlY3Rpb24ubXVsIHhcblxuICAgIEBwb2ludE1hcHBlZFRvUGxhbmU6IChwb2ludCwgcGxhbmVQb3MsIHBsYW5lTm9ybWFsKSAtPlxuICAgICAgICBwb2ludC5taW51cyhwbGFuZU5vcm1hbCkuZG90IHBvaW50Lm1pbnVzKHBsYW5lUG9zKS5kb3QocGxhbmVOb3JtYWwpXG5cbiAgICBAcmF5UGxhbmVJbnRlcnNlY3Rpb25GYWN0b3I6IChyYXlQb3MsIHJheURpciwgcGxhbmVQb3MsIHBsYW5lTm9ybWFsKSAtPlxuICAgICAgICByYXlEb3QgPSByYXlEaXIuZG90IHBsYW5lTm9ybWFsXG4gICAgICAgIGlmIE51bWJlci5pc05hTiByYXlEb3RcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclxuICAgICAgICByZXR1cm4gMiBpZiByYXlEb3QgPT0gMFxuICAgICAgICByID0gcGxhbmVQb3MubWludXMocmF5UG9zKS5kb3QocGxhbmVOb3JtYWwpIC8gcmF5RG90XG4gICAgICAgIGlmIE51bWJlci5pc05hTiByXG4gICAgICAgICAgICBsb2cgJ3JheVBvcycgcmF5UG9zXG4gICAgICAgICAgICBsb2cgJ3JheURpcicgcmF5RGlyXG4gICAgICAgICAgICBsb2cgJ3BsYW5lUG9zJyBwbGFuZVBvc1xuICAgICAgICAgICAgbG9nICdwbGFuZU5vcm1hbCcgcGxhbmVOb3JtYWxcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclxuICAgICAgICByXG5cbiAgICBAUFggPSAwXG4gICAgQFBZID0gMVxuICAgIEBQWiA9IDJcbiAgICBATlggPSAzXG4gICAgQE5ZID0gNFxuICAgIEBOWiA9IDVcbiAgICAgICAgXG4gICAgQHVuaXRYICA9IG5ldyBWZWN0ICAxICAwICAwXG4gICAgQHVuaXRZICA9IG5ldyBWZWN0ICAwICAxICAwXG4gICAgQHVuaXRaICA9IG5ldyBWZWN0ICAwICAwICAxXG4gICAgQG1pbnVzWCA9IG5ldyBWZWN0IC0xICAwICAwXG4gICAgQG1pbnVzWSA9IG5ldyBWZWN0ICAwIC0xICAwXG4gICAgQG1pbnVzWiA9IG5ldyBWZWN0ICAwICAwIC0xXG4gICAgXG4gICAgQG5vcm1hbHMgPSBbVmVjdC51bml0WCwgVmVjdC51bml0WSwgVmVjdC51bml0WiwgVmVjdC5taW51c1gsIFZlY3QubWludXNZLCBWZWN0Lm1pbnVzWl1cbiAgICBcbiAgICBAcGVycE5vcm1hbHM6ICh2KSAtPiBcbiAgICAgICAgaSA9IEBub3JtYWxJbmRleCh2KVxuICAgICAgICBzd2l0Y2ggaVxuICAgICAgICAgICAgd2hlbiBAUFggdGhlbiBbQHVuaXRZLCBAdW5pdFosIEBtaW51c1ksIEBtaW51c1pdXG4gICAgICAgICAgICB3aGVuIEBQWSB0aGVuIFtAbWludXNYLCBAdW5pdFosIEB1bml0WCwgQG1pbnVzWl1cbiAgICAgICAgICAgIHdoZW4gQFBaIHRoZW4gW0B1bml0WSwgQG1pbnVzWCwgQG1pbnVzWSwgQHVuaXRYXVxuICAgICAgICAgICAgd2hlbiBATlggdGhlbiBbQHVuaXRZLCBAbWludXNaLCBAbWludXNZLCBAdW5pdFpdICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGVuIEBOWSB0aGVuIFtAbWludXNYLCBAbWludXNaLCBAdW5pdFgsIEB1bml0Wl0gICAgICAgICAgICBcbiAgICAgICAgICAgIHdoZW4gQE5aIHRoZW4gW0B1bml0WSwgQHVuaXRYLCBAbWludXNZLCBAbWludXNYXSAgICAgICAgICAgIFxuICAgIFxuICAgIEBub3JtYWxJbmRleDogKHYpIC0+IFxuICAgIFxuICAgICAgICBjbiA9IEBjbG9zZXN0Tm9ybWFsIHZcbiAgICAgICAgZm9yIGkgaW4gWzAuLi42XVxuICAgICAgICAgICAgaWYgVmVjdC5ub3JtYWxzW2ldLmVxdWFscyBjblxuICAgICAgICAgICAgICAgIHJldHVybiBpXG4gICAgICAgIC0xXG4gICAgXG4gICAgQGNsb3Nlc3ROb3JtYWw6ICh2KSAtPlxuICAgICAgICBcbiAgICAgICAgVmVjdC50bXAuY29weSB2XG4gICAgICAgIFZlY3QudG1wLm5vcm1hbGl6ZSgpXG4gICAgICAgIGFuZ2xlcyA9IFtdXG4gICAgICAgIGZvciBuIGluIFZlY3Qubm9ybWFsc1xuICAgICAgICAgICAgaWYgbi5lcXVhbHMgVmVjdC50bXBcbiAgICAgICAgICAgICAgICByZXR1cm4gblxuICAgICAgICAgICAgYW5nbGVzLnB1c2ggW24uYW5nbGUoVmVjdC50bXApLCBuXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBhbmdsZXMuc29ydCAoYSxiKSAtPiBhWzBdLWJbMF1cbiAgICAgICAgYW5nbGVzWzBdWzFdXG4gICAgXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RcbiJdfQ==
//# sourceURL=../coffee/vect.coffee